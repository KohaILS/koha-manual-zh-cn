<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>管理 &mdash; Koha 手册 22.05（开发版本） 文档</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="关于这些文档" href="about.html" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="Tools" href="tools.html" />
    <link rel="prev" title="Web services" href="webservicespreferences.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4a9b32" >
            <a href="index.html" class="icon icon-home"> Koha 手册
          </a>
              <div class="version">
                22.05（开发版本）
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Koha 安装过程介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#web-installer">网页安装器</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#onboarding-tool">在线工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="globalpreferences.html">全局系统参数设置</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">管理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-parameters">基本参数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#libraries">图书馆群</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-library">添加一个图书馆</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-deleting-a-library">编辑/删除一个图书馆</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#library-groups">图书馆群组</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-group">添加一个群组</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-library-to-a-group">Adding a library to a group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-sub-group">Adding a sub-group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-a-group">Deleting a group</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#circulation-desks">Circulation desks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-circulation-desks">Adding circulation desks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-a-circulation-desk">Editing a circulation desk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-a-circulation-desk">Deleting a circulation desk</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#item-types">Item types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-item-types">Adding item types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-item-types">Editing item types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-item-types">Deleting item types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#authorized-values">Authorized values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#existing-authorized-values-categories">Existing authorized values categories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-new-authorized-value-category">Add new authorized value category</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-new-authorized-value">Add new authorized value</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-authorized-values">Deleting authorized values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#patrons-and-circulation">Patrons and circulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#patron-categories">Patron categories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-patron-category">Adding a patron category</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#circulation-and-fines-rules">Circulation and fines rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defining-circulation-rules">Defining circulation rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-checkout-hold-and-return-policy">Default checkout, hold, and return policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-checkout-and-hold-policy-by-patron-category">Default checkout and hold policy by patron category</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-open-article-requests-limit">Default open article requests limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-article-request-fees">Default article request fees</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-lost-item-fee-refund-on-return-policy">Default lost item fee refund on return policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-holds-policy-by-item-type">Default holds policy by item type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#patron-attribute-types">Patron attribute types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-patron-attributes">Adding patron attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-deleting-patron-attributes">Editing/deleting patron attributes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#library-transfer-limits">Library transfer limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transport-cost-matrix">Transport cost matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#item-circulation-alerts">Item circulation alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cities-and-towns">Cities and towns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-city">Adding a city</a></li>
<li class="toctree-l4"><a class="reference internal" href="#viewing-cities-on-patron-add-form">Viewing cities on patron add form</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accounting">Accounting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#debit-types">Debit types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-debit-types">System debit types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-new-debit-type">Adding a new debit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-an-existing-debit-type">Editing an existing debit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#archiving-a-debit-type">Archiving a debit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restoring-an-archived-debit-type">Restoring an archived debit type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#credit-types">Credit types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-credit-types">System credit types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-new-credit-type">Adding a new credit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-an-existing-credit-type">Editing an existing credit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#archiving-a-credit-type">Archiving a credit type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#restoring-an-archived-credit-type">Restoring an archived credit type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cash-registers">Cash registers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-new-cash-register">Adding a new cash register</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#catalog-administration">Catalog administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#marc-bibliographic-frameworks">MARC bibliographic frameworks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-new-framework">Add new framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-existing-frameworks">Edit existing frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-framework-fields-and-subfields">Edit framework fields and subfields</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-fields-to-frameworks">Add fields to frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#import-export-frameworks">Import/export frameworks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#koha-to-marc-mapping">Koha to MARC mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#marc-bibliographic-framework-test">MARC bibliographic framework test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authority-types">Authority types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#classification-sources">Classification sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-editing-classification-sources">Adding/editing classification sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classification-filing-rules">Classification filing rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classification-splitting-rules">Classification splitting rules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#record-matching-rules">Record matching rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-matching-rules">Adding matching rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sample-bibliographic-record-matching-rule-control-number">Sample bibliographic record matching rule: Control number</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#record-overlay-rules">Record overlay rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#contexts">Contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rules">Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protect">Protect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwrite">Overwrite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-new">Add new</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-and-append">Add and append</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protect-from-deletion">Protect from deletion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-presets">Custom presets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#oai-sets-configuration">OAI sets configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-set">Create a set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify-delete-a-set">Modify/delete a set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#define-mappings">Define mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-sets">Build sets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#item-search-fields">Item search fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#search-engine-configuration">Search engine configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acquisitions">Acquisitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#currencies-and-exchange-rates">Currencies and exchange rates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#budgets">Budgets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-budgets">Adding budgets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#funds">Funds</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-a-fund">Add a Fund</a></li>
<li class="toctree-l4"><a class="reference internal" href="#budget-planning">Budget planning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#edi-accounts">EDI accounts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#library-eans">Library EANs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additional-parameters">Additional parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#z39-50-sru-servers">Z39.50/SRU servers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-a-z39-50-target">Add a Z39.50 target</a></li>
<li class="toctree-l4"><a class="reference internal" href="#suggested-bibliographic-z39-50-targets">Suggested bibliographic Z39.50 targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#suggested-authority-z39-50-targets">Suggested Authority Z39.50 Targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-a-sru-target">Add a SRU target</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#did-you-mean">Did you mean?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-settings">Table settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#audio-alerts">Audio alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sms-cellular-providers">SMS cellular providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#share-your-usage-statistics">Share your usage statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#share-content-with-mana-kb">Share content with Mana KB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-fields">Additional fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples-of-additional-fields">Examples of additional fields</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="patrons.html">Patrons</a></li>
<li class="toctree-l1"><a class="reference internal" href="cash_management.html">Cash management</a></li>
<li class="toctree-l1"><a class="reference internal" href="circulation.html">Circulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cataloging.html">Cataloging</a></li>
<li class="toctree-l1"><a class="reference internal" href="course_reserves.html">Course reserves</a></li>
<li class="toctree-l1"><a class="reference internal" href="serials.html">Serials</a></li>
<li class="toctree-l1"><a class="reference internal" href="acquisitions.html">Acquisitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="lists.html">Lists and cart</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="opac.html">OPAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">Searching</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugin System</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Koha</a></li>
<li class="toctree-l1"><a class="reference internal" href="ILL_requests.html">ILL requests / Interlibrary loans</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation_checklist.html">Implementation checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="cron_jobs.html">Cron jobs and daemons</a></li>
<li class="toctree-l1"><a class="reference internal" href="webservices.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="apis_protocols.html">Other APIs and protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending_koha.html">Extending Koha</a></li>
<li class="toctree-l1"><a class="reference internal" href="third_party_software.html">Using third party software with Koha</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Configuring Receipt Printers</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html">Important Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">GNU General Public License version 3</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #4a9b32" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Koha 手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>管理</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/administration.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="webservicespreferences.html" class="btn btn-neutral float-left" title="Web services" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="tools.html" class="btn btn-neutral float-right" title="Tools" accesskey="n">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="administration">
<span id="administration-label"></span><h1>管理<a class="headerlink" href="#administration" title="永久链接至标题"></a></h1>
<section id="basic-parameters">
<span id="basic-parameters-label"></span><h2>基本参数<a class="headerlink" href="#basic-parameters" title="永久链接至标题"></a></h2>
<p><em>在这里：</em> 更多 &gt; 管理</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>依出现顺序配置所有 ‘参数’。</p>
</div></blockquote>
<section id="libraries">
<span id="libraries-label"></span><h3>图书馆群<a class="headerlink" href="#libraries" title="永久链接至标题"></a></h3>
<p>当 Koha 系统构建成功后，您需要为系统共享的图书馆添加一些信息。此数据会在 Koha 的其他几个地方用到。</p>
<ul class="simple">
<li><p><em>在这里：</em> 更多 &gt; 管理 &gt; 基本参数 &gt; 图书馆群</p></li>
</ul>
<p>访问该页面时会显示系统已经添加的图书馆列表。</p>
<p><img alt="image122" src="_images/librarylist.png" /></p>
<blockquote>
<div><p><strong>注释</strong></p>
<ul class="simple">
<li><p>您可以在管理模块的 <a class="reference internal" href="#column-settings-label"><span class="std std-ref">‘表格设置’</span></a> 中定制栏位（表格 Id: libraries）。</p></li>
</ul>
</div></blockquote>
<section id="adding-a-library">
<span id="adding-a-library-label"></span><h4>添加一个图书馆<a class="headerlink" href="#adding-a-library" title="永久链接至标题"></a></h4>
<p>添加一个新图书馆：</p>
<ul>
<li><p>点击 ‘新图书馆’</p></li>
<li><p>表单会问一些关于图书馆的基本信息</p>
<p><img alt="image124" src="_images/newlibrary.png" /></p>
<ul class="simple">
<li><p>图书馆代码不能包含空格且不能多于10个字符。此代码会被数据用于图书馆的唯一标识符。</p></li>
<li><p>图书馆名会在 OPAC 显示，所以该名字应当为读者所熟知。</p></li>
</ul>
</li>
<li><p>接下来您可以输入该图书馆的一些基本联系信息</p>
<p><img alt="image125" src="_images/librarycontact.png" /></p>
<ul>
<li><p>地址和联系信息字段用于定制每个图书馆的通知等</p></li>
<li><p>电子邮件地址为非必填项，但是每个图书馆应该填写</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>图书馆的邮件地址虽然不是必填项，但是对于有发送和接受邮件需求时也是非常必要的</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>您也可以填写一个不同的用于 ‘恢复’ 的电子邮件地址。此地址用于收取所有回复的电子邮件。</p>
<ul>
<li><p><strong>注释</strong></p>
<blockquote>
<div><p>如果没有填写此值，Koha 将使用地址中的  <a class="reference internal" href="administrationpreferences.html#replytodefault"><span class="std std-ref">ReplytoDefault</span></a> 参数值</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>如果您不想使用该设置，也可以使用不同的 ‘Return-Path’ 电子邮件地址。该邮件地址会收集所有弹出消息。</p>
<ul>
<li><p><strong>注释</strong></p>
<blockquote>
<div><p>如果您没有填写该值，Koha 将使用参数 <a class="reference internal" href="administrationpreferences.html#returnpathdefault"><span class="std std-ref">ReturnpathDefault</span></a> 的地址</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>如果填写 URL 字段，则 OPAC 的馆藏字段会链接到该图书馆</p>
<p><img alt="image126" src="_images/librarylink.png" /></p>
</li>
<li><p>OPAC 信息框用于在 OPAC 查询时当鼠标悬停于馆藏项时显示图书馆相关信息</p>
<p><img alt="image127" src="_images/opacinfo.png" /></p>
</li>
<li><p>IP 非必填项，除非想要限制图书馆员访问特定 IP 地址</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>如果您已启用 <a class="reference internal" href="administrationpreferences.html#autolocation"><span class="std std-ref">AutoLocation</span></a>，则需要填写 IP 地址</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>如果该图书馆有特定的 <a class="reference external" href="http://www.loc.gov/marc/organizations/orgshome.html">MARC 机构代码</a>，您可以填写。如果留空，则该代码使用预置的 <a class="reference internal" href="catalogingpreferences.html#marcorgcode"><span class="std std-ref">MARCOrgCode</span></a>。</p></li>
<li><p>任何备注您都可以在这里填写。该信息不会在 OPAC 显示</p></li>
<li><p>最后，您可以选择是否显示馆藏的领取地点</p></li>
</ul>
<blockquote>
<div><p><strong>注释</strong></p>
<p>以上所列字段，只有’图书馆代码’和’图书馆名’为必填项</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="editing-deleting-a-library">
<span id="editing-deleting-a-library-label"></span><h4>编辑/删除一个图书馆<a class="headerlink" href="#editing-deleting-a-library" title="永久链接至标题"></a></h4>
<p>您不能删除拥有读者和馆藏的任何图书馆。</p>
<p><img alt="image128" src="_images/cannotdeletelibrary.png" /></p>
<p>每个图书馆的右侧都有一个“编辑”链接。点击链接编辑/修改有问题的图书馆细节。</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>您不能编辑“图书馆代码”</p>
</div></blockquote>
</section>
</section>
<section id="library-groups">
<span id="library-groups-label"></span><h3>图书馆群组<a class="headerlink" href="#library-groups" title="永久链接至标题"></a></h3>
<p>图书馆群组有四个宗旨：限制访问读者数据、限制 OPAC 检索、限制馆员检索和/或定义馆藏行为。</p>
<ul class="simple">
<li><p><em>在这里：</em> 更多 &gt; 管理 &gt; 基本参数 &gt;图书馆群组</p></li>
</ul>
<p>当访问此页面时您会看到已经加入系统群组的图书馆列表。</p>
<p><img alt="image123" src="_images/grouplists.png" /></p>
<section id="adding-a-group">
<span id="adding-a-group-label"></span><h4>添加一个群组<a class="headerlink" href="#adding-a-group" title="永久链接至标题"></a></h4>
<p>点击屏幕顶部的’添加群组’按钮</p>
<p><img alt="image129" src="_images/addlibgroup.png" /></p>
<ul>
<li><p>给群组设定一个标题和简介。标题为必填项，标题会在馆员端和 OPAC 中显示。描述仅用于此页显示相关群组信息等。</p></li>
<li><p>You can limit staff from seeing other groups’ patrons by checking the
box next to the ‘Limit patron data access by group’ option.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>This can be overridden with the <a class="reference internal" href="patrons.html#patron-permissions-defined-label"><span class="std std-ref">user permission view_borrower_infos_
from_any_libraries</span></a>.</p>
</div></blockquote>
</li>
<li><p>If you want the group to show up in the library pulldown menu at the
top of the OPAC (with <a class="reference internal" href="opacpreferences.html#opacaddmastheadlibrarypulldown"><span class="std std-ref">OpacAddMastheadLibraryPulldown</span></a> set to ‘Add’)
and on the advanced search page you can check the ‘Use for OPAC search
groups’ box.</p></li>
<li><p>If you want the group to appear in the library pulldown in the staff
client advanced search, check the ‘Use for staff search groups’ box.</p></li>
</ul>
<p><img alt="image131" src="_images/stafflibgroupsearch.png" /></p>
<ul class="simple" id="adding-a-library-to-a-group-label">
<li><p>If you want to use this group to define holds rules, check the ‘Is local
hold group’ box.</p></li>
</ul>
</section>
<section id="adding-a-library-to-a-group">
<h4>Adding a library to a group<a class="headerlink" href="#adding-a-library-to-a-group" title="永久链接至标题"></a></h4>
<p>Click on the ‘Add library’ button next to the group to add a library to
this group. You will be presented with a list of the libraries that are
not already in the group.</p>
<p><img alt="image133" src="_images/addlibrarytogroup.png" /></p>
</section>
<section id="adding-a-sub-group">
<span id="adding-a-sub-group-label"></span><h4>Adding a sub-group<a class="headerlink" href="#adding-a-sub-group" title="永久链接至标题"></a></h4>
<p>If your system is very large, you can create sub-groups. Click on the
‘Actions’ button next to the group and select the ‘Add a sub-group’
option. Fill in the title and the description (optional) of the sub-group.
The features will be inherited from the parent group.</p>
<p><img alt="image1323" src="_images/addsubgroup.png" /></p>
</section>
<section id="deleting-a-group">
<span id="deleting-a-group-label"></span><h4>Deleting a group<a class="headerlink" href="#deleting-a-group" title="永久链接至标题"></a></h4>
<p>To delete a group, click on the ‘Actions’ button next to the group and select
the ‘Delete’ option.</p>
<p><img alt="image1324" src="_images/deletegroup.png" /></p>
<p><img alt="image1325" src="_images/deletegroupconfirm.png" /></p>
</section>
</section>
<section id="circulation-desks">
<span id="circulation-desks-label"></span><h3>Circulation desks<a class="headerlink" href="#circulation-desks" title="永久链接至标题"></a></h3>
<p>Koha allows you to define several circulation desks within a single library.
For example, if you have an adult circulation desk and a children’s circulation
desk, or if you have a different desk for each floor or each department.</p>
<p>Make sure to enable the <a class="reference internal" href="circulationpreferences.html#usecirculationdesks"><span class="std std-ref">UseCirculationDesks</span></a> system preference to use this
functionality.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Basic parameters &gt; Desks</p></li>
</ul>
<section id="adding-circulation-desks">
<span id="id1"></span><h4>Adding circulation desks<a class="headerlink" href="#adding-circulation-desks" title="永久链接至标题"></a></h4>
<p>To add a new circulation desk, click on the ‘New desk’ button at the top of the
page.</p>
<p><img alt="image1477" src="_images/newdesk.png" /></p>
<ul class="simple">
<li><p>In the ‘Desk’ field, enter a name for your desk.</p></li>
<li><p>Choose the library in which this desk is.</p></li>
<li><p>Click ‘Submit’.</p></li>
</ul>
</section>
<section id="editing-a-circulation-desk">
<span id="editing-circulation-desks"></span><h4>Editing a circulation desk<a class="headerlink" href="#editing-a-circulation-desk" title="永久链接至标题"></a></h4>
<p>To edit an existing circulation desk, click on the ‘Edit’ button to the right
of the desk to modify.</p>
<p><img alt="image1478" src="_images/desks.png" /></p>
<p>From there, you can change the name and/or the library of the desk.</p>
</section>
<section id="deleting-a-circulation-desk">
<span id="deleting-circulation-desks"></span><h4>Deleting a circulation desk<a class="headerlink" href="#deleting-a-circulation-desk" title="永久链接至标题"></a></h4>
<p>To delete an existing circulation desk, click on the ‘Delete’ button to the
right of the desk to remove.</p>
</section>
</section>
<section id="item-types">
<span id="item-types-label"></span><h3>Item types<a class="headerlink" href="#item-types" title="永久链接至标题"></a></h3>
<p>Koha allows you to organize your collection by item types and collection
codes.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Basic parameters &gt; Item types</p></li>
</ul>
<p>Item types typically refer to the material type (Book, CD, DVD, etc),
but can be used in any way that works for your library.</p>
<p><img alt="Item types table" src="_images/itemtypes.png" /></p>
<blockquote>
<div><p><strong>注释</strong></p>
<ul class="simple">
<li><p>You can customize the columns of this table in the
<a class="reference internal" href="#column-settings-label"><span class="std std-ref">‘Table settings’</span></a> section of the
Administration module (table id: table_item_type).</p></li>
</ul>
</div></blockquote>
<section id="adding-item-types">
<span id="adding-item-types-label"></span><h4>Adding item types<a class="headerlink" href="#adding-item-types" title="永久链接至标题"></a></h4>
<p>To add a new item type, simply click the ‘New item type’ button at the
top of the Item types page.</p>
<p><img alt="Add new item type form" src="_images/additemtype.png" /></p>
<ul>
<li><p>In the ‘Item type’ field, enter a short code for your item type (maximum
of 10 characters)</p></li>
<li><p>The the ‘Parent item type’ field, you can choose an item type that will act
as a parent category for this item type. You can then define
<a class="reference internal" href="#circulation-and-fines-rules-label"><span class="std std-ref">circulation rules</span></a> based on those
parent item types.</p>
<ul>
<li><p>For example, you could have DVD and Blu-ray item types, and the DVD would
be the parent of the Blu-ray item type.</p>
<p><img alt="Item types DVD and Blu-ray, where DVD is the parent of Blu-ray" src="_images/parentitemtype.png" /></p>
<p>You can then create a <a class="reference internal" href="#circulation-and-fines-rules-label"><span class="std std-ref">circulation rule</span></a>
for either Blu-ray only or DVD and Blu-ray (DVD (All))</p>
<p><img alt="Creating a circulation rule for a parent item type" src="_images/parentitemtypecircrule.png" /></p>
</li>
</ul>
</li>
<li><p>The description is the plain text definition of the item type (for
those with multiple languages installed you can translate the item
type description in to all of those languages using the ‘Translate in
to other languages’ link)</p></li>
<li><p>Item types can be grouped together for searching at the same time.
For example you can put DVDs and Blu-rays in to a group called Movie
and then they can be searched together. These groups are defined in
the ITEMTYPECAT <a class="reference internal" href="#existing-values-label"><span class="std std-ref">authorized value category</span></a>.</p></li>
<li><p>You can choose to have an image associated with your item type</p>
<ul>
<li><p>You can choose from a series of image collections</p></li>
<li><p>You can link to a remote image</p></li>
<li><p>Or you can just have no image associated with the item type</p>
<p><strong>重要</strong></p>
<p>If this option is not enabled, you can change the setting of the
<a class="reference internal" href="administrationpreferences.html#noitemtypeimages"><span class="std std-ref">noItemTypeImages</span></a> or <a class="reference internal" href="opacpreferences.html#opacnoitemtypeimages"><span class="std std-ref">OpacNoItemTypeImages</span></a>.</p>
<p>To have your item type images appear in the OPAC you need to
set <a class="reference internal" href="opacpreferences.html#opacnoitemtypeimages"><span class="std std-ref">OpacNoItemTypeImages</span></a> to ‘Yes’</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Global system preferences
&gt; <a class="reference internal" href="opacpreferences.html#opac-system-preferences-label"><span class="std std-ref">OPAC</span></a></p></li>
</ul>
</li>
</ul>
</li>
<li><p>For items that you are suppressing from the OPAC you can hide their
item type from being searched in the OPAC</p>
<blockquote>
<div><p><strong>Note</strong>
This will not prevent those items to appear in search results, it
will simply remove the item type from the advanced search form.</p>
<p>If you want to completely hide items from a certain item type, let’s
say that you have a professional library with books reserved for staff
and you don’t want those to appear in the OPAC, use the
<a class="reference internal" href="opacpreferences.html#opachiddenitems"><span class="std std-ref">OpacHiddenItems</span></a> system preference.</p>
</div></blockquote>
</li>
<li><p>For items that do not circulate, check the ‘Not for loan’ options</p>
<ul class="simple">
<li><p>Items marked ‘Not for loan’ will appear in the catalog, but cannot
be checked out to patrons</p></li>
</ul>
</li>
<li><p>For items that are not physical, but for which you still have circulation rules,
such as museum passes or ebooks, you can set up automatic checkins.</p>
<ul class="simple">
<li><p>Check the ‘Automatic checkin’ box</p></li>
<li><p>Schedule the <a class="reference internal" href="cron_jobs.html#cron-automatic-checkin-label"><span class="std std-ref">cronjob misc/cronjobs/automatic_checkin.pl</span></a>.</p></li>
</ul>
</li>
<li><p>For items that you charge a rental fee for, there are several ways that rental
fees can be charged to a patron by item type. A flat rental charge
(process fee) or a daily/hourly rental charge.</p>
<blockquote>
<div><ul>
<li><p>For items that a library would charge a flat rental charge (process fee)
for, enter the total fee you charge in the ‘Rental charge’ field.
This will charge the patron on checkout (and renewal).</p></li>
<li><p>For items that a rental charge will be charged by the number of days
the item is checked out for, enter the daily fee in the ‘Daily rental
charge’. This will be charged to the patron upon checkout -
the cost per day and how many days this item can be checked out to the
patron. This daily rental charge will also be applied if/when a renewal
occurs.</p>
<ul class="simple">
<li><p>Check the ‘Daily rentals use calendar’, to exclude holidays from
the the rental fee calculation.</p></li>
</ul>
</li>
<li><p>For items that are loaned out hourly, enter the cost per hour in ‘Hourly
rental charge’. Again, the total (hourly cost * number of hours loaned)
will be charged to the patron upon checkout and renewal.</p>
<ul class="simple">
<li><p>Check the ‘Hourly rentals use calendar’, to exclude holidays from
the the rental fee calculation.</p></li>
</ul>
</li>
<li><p>Each amount will charge the patron on checkout.</p>
<p><strong>重要</strong></p>
<p>Do not enter symbols in this field, only numbers and decimal
points (ex. $5.00 should be entered as 5 or 5.00)</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p>You can add a default replacement cost for this type of item. This is the
amount that will be charged to the patron when lost if the item doesn’t have
a replacement cost. If the item has a replacement cost, that is the amount
that will be charged to the patron.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>Do not enter symbols in this field, only numbers and decimal
points (ex. $5.00 should be entered as 5 or 5.00)</p>
</div></blockquote>
</li>
<li><p>You can also add a processing fee that will be added to the replacement cost.</p>
<p><strong>重要</strong></p>
<p>Do not enter symbols in this field, only numbers and decimal
points (ex. $5.00 should be entered as 5 or 5.00)</p>
</li>
<li><p>If you would like a message or alert to appear when items of this
type are checked in you can enter that in the ‘Checkin message’ box</p>
<p><img alt="'Checkin message' field in the new item type form" src="_images/itemtype-msgsetup.png" /></p>
<ul>
<li><p>The check-in message type can be a ‘message’ or an ‘alert’. The only
difference between these two is the styling. By default a message
is blue</p>
<p><img alt="Checkin message 'This is a book' in a blue message box" src="_images/itemtype-msg.png" /></p>
<p>and an alert is yellow.</p>
<p><img alt="Checkin message 'This is a book' in a yellow message box" src="_images/itemtype-alert.png" /></p>
</li>
</ul>
</li>
<li><p>Some SIP devices need you to use a SIP-specific media type instead of
Koha’s item type (usually lockers and sorters need this media type).
If you use a device like this you’ll want to enter the SIP media
type.</p></li>
<li><p>If this item type is only to be used in certain libraries, you can select
them here. Select ‘All libraries’ if this item type is used across the library
system.</p>
<p><strong>注释</strong></p>
<p>If this is left blank, ‘All libraries’ is assumed.</p>
<p><strong>注释</strong></p>
<p>To select more than one library, hold the ‘Ctrl’ key while selecting the
libraries.</p>
</li>
</ul>
<ul>
<li><p>When finished, click ‘Save changes’</p>
<p><strong>注释</strong></p>
<p>All fields, with the exception of the ‘Item type’ will be
editable from the item types list</p>
</li>
<li><p>Your new item type will now appear on the list</p>
<p><img alt="Item types table with the item type 'book'" src="_images/newitemtype.png" /></p>
</li>
</ul>
</section>
<section id="editing-item-types">
<span id="editing-item-types-label"></span><h4>Editing item types<a class="headerlink" href="#editing-item-types" title="永久链接至标题"></a></h4>
<p>Each item type has an Edit button beside it. To edit an item simply
click the ‘Edit’ button.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>You will not be able to edit the code you assigned as the ‘Item
type’ but you will be able to edit the description for the item.</p>
</div></blockquote>
</section>
<section id="deleting-item-types">
<span id="deleting-item-types-label"></span><h4>Deleting item types<a class="headerlink" href="#deleting-item-types" title="永久链接至标题"></a></h4>
<p>Each item has a Delete button beside it. To delete an item type, simply click
the ‘Delete’ button.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>You will not be able to delete item types that are being used by
items within your system.</p>
</div></blockquote>
<p><img alt="image140" src="_images/nodeleteitemtype.png" /></p>
</section>
</section>
<section id="authorized-values">
<span id="authorized-values-label"></span><h3>Authorized values<a class="headerlink" href="#authorized-values" title="永久链接至标题"></a></h3>
<p>Authorized values can be used in several areas of Koha. They are lists of
controlled terms, phrases or codes.</p>
<p>For example, one reason you would add an authorized value category would be to
control the values that can be entered into MARC fields by catalogers.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Basic parameters &gt; Authorized values</p></li>
</ul>
<section id="existing-authorized-values-categories">
<span id="existing-values-label"></span><h4>Existing authorized values categories<a class="headerlink" href="#existing-authorized-values-categories" title="永久链接至标题"></a></h4>
<p>Koha installs with pre-defined authorized values categories that your library
is likely to use or that are used by the system.</p>
<ul>
<li><p>Asort1</p>
<ul class="simple">
<li><p>Used for acquisitions statistical purposes. You can use this as
statistical categories when <a class="reference internal" href="#add-a-fund-label"><span class="std std-ref">creating a fund</span></a>
in acquisitions.</p></li>
</ul>
</li>
<li><p>Asort2</p>
<ul class="simple">
<li><p>Used for acquisitions statistical purposes. You can use this as
statistical categories when <a class="reference internal" href="#add-a-fund-label"><span class="std std-ref">creating a fund</span></a>
in acquisitions.</p></li>
</ul>
</li>
<li><p>BOR_NOTES</p>
<ul>
<li><p>Values for pre-defined <a class="reference internal" href="patrons.html#opac-messages-label"><span class="std std-ref">patron messages</span></a> that
appear on the circulation screen and the patron’s account on the OPAC.
Write the message you want to appear in the Description field. Note that
this field is limited to 200 characters.</p>
<p><img alt="Screen capture of an authorized value for the BOR\_NOTES category; the authorized value is ADDR and the Description is 'Please bring a proof of address on your next visit to the library.''" src="_images/bor_notes.png" /></p>
</li>
</ul>
</li>
<li><p>Bsort1</p>
<ul class="simple">
<li><p>Values that can be entered to fill in the
<a class="reference internal" href="patrons.html#add-a-new-patron-label"><span class="std std-ref">patron’s sort 1 field</span></a></p></li>
</ul>
</li>
<li><p>Bsort2</p>
<ul class="simple">
<li><p>Values that can be entered to fill in the
<a class="reference internal" href="patrons.html#add-a-new-patron-label"><span class="std std-ref">patron’s sort 2 field</span></a></p></li>
</ul>
</li>
<li><p>CAND</p>
<ul class="simple">
<li><p>A list used in UNIMARC</p></li>
</ul>
</li>
<li><p>CCODE</p>
<ul>
<li><p>Collection codes (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">cataloging and working with items</span></a>)</p></li>
<li><p>This is normally mapped to items.ccode in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Fiction (FIC)</p></li>
<li><p>Non-fiction (NFIC)</p></li>
<li><p>Reference (REF)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>CONTROL_NUM_SEQUENCE</p>
<ul class="simple">
<li><p>Used to generate control numbers in the
<a class="reference internal" href="cataloging.html#advanced-editor-cataloging-label"><span class="std std-ref">advanced cataloging editor</span></a>.
Enter a string ending with a number as the authorized value and use
the description to describe the type of number. For example: ‘sprLib0001’
‘Springfield library’. In the advanced editor this will activate a
new widget that will allow you to choose the type of number and
generate the next number in the sequence.</p></li>
</ul>
</li>
<li><p>COUNTRY</p>
<ul class="simple">
<li><p>A list of country names used in UNIMARC 102 $a</p></li>
</ul>
</li>
<li><p>DAMAGED</p>
<ul>
<li><p>Descriptions for items marked as damaged (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">cataloging and working with items</span></a>).</p></li>
<li><p>This is normally mapped to items.damaged in the database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Damaged (1)</p></li>
</ul>
<p>You can change those to suit your organization’s needs, but the values must
be numerical.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for DAMAGED must be numerical.</p>
</div>
<ul>
<li><p>DEPARTMENT</p>
<ul class="simple">
<li><p>Departments are required by and are used in the
<a class="reference internal" href="course_reserves.html#course-reserves-label"><span class="std std-ref">course reserves</span></a> module</p></li>
</ul>
</li>
<li><p>ETAT</p>
<ul class="simple">
<li><p>Used in French UNIMARC installations in field 995 $o to identify item status.
Similar to NOT_LOAN</p></li>
</ul>
</li>
<li><p>HINGS_AS</p>
<ul class="simple">
<li><p>General holdings: acquisition status designator :: This data
element specifies acquisition status for the unit at the time of
the holdings report.</p></li>
</ul>
</li>
<li><p>HINGS_C</p>
<ul class="simple">
<li><p>General holdings: completeness designator</p></li>
</ul>
</li>
<li><p>HINGS_PF</p>
<ul class="simple">
<li><p>Physical form designators</p></li>
</ul>
</li>
<li><p>HINGS_RD</p>
<ul class="simple">
<li><p>General holdings: retention designator :: This data element
specifies the retention policy for the unit at the time of the
holdings report.</p></li>
</ul>
</li>
<li><p>HINGS_UT</p>
<ul class="simple">
<li><p>General holdings: type of unit designator</p></li>
</ul>
</li>
<li><p>HOLD_CANCELLATION</p>
<ul>
<li><p>Reasons why a hold might have been canceled. These are used when
<a class="reference internal" href="circulation.html#managing-holds-label"><span class="std std-ref">cancelling holds</span></a>.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Item could not be located on shelves (NOT_FOUND)</p></li>
<li><p>Item was found to be too damaged to fill hold (DAMAGED)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>HSBND_FREQ</p>
<ul>
<li><p>Delivery frequencies used by the housebound module. They are displayed on
the <a class="reference internal" href="patrons.html#housebound-patrons-label"><span class="std std-ref">housebound tab</span></a> in the patron’s
account in the staff interface.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Every week (EW)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>ILLSTATUS</p>
<ul class="simple">
<li><p>Interlibrary loan (ILL) request statuses used in the
<a class="reference internal" href="ILL_requests.html#ill-requests-label"><span class="std std-ref">ILL module</span></a>.</p></li>
</ul>
</li>
<li><p>ITEMTYPECAT</p>
<ul class="simple">
<li><p>Search categories for item types. These values allow multiple item types
to be searched at the same time.</p></li>
<li><p>To combine item types in categories, choose the category in the
<a class="reference internal" href="#item-types-label"><span class="std std-ref">item type settings</span></a>.</p></li>
<li><p>For example, an ITEMTYPECAT value could be ‘NEW’. This search category
could be set for the item types ‘NEW BOOKS’ and ‘NEW DVDS’. This will
replace NEW BOOKS and NEW DVDS item types in the advanced search form by
‘NEW’. When a patron chooses the searched for the category ‘NEW’, they
will search multiple item types with a single search.</p></li>
</ul>
</li>
<li><p>LANG</p>
<ul class="simple">
<li><p>A list of ISO 639-2 standard language codes.</p></li>
</ul>
</li>
<li><p>LOC</p>
<ul>
<li><p>Shelving locations (usually appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>).</p></li>
<li><p>This is normally mapped to items.location in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Audio visual (AV)</p></li>
<li><p>Book cart (CART)</p>
<ul>
<li><p>CART is used by <a class="reference internal" href="circulationpreferences.html#updateitemlocationoncheckin"><span class="std std-ref">UpdateItemLocationOnCheckin</span></a></p></li>
</ul>
</li>
<li><p>Children’s area (CHILD)</p></li>
<li><p>Fiction (FIC)</p></li>
<li><p>General stacks (GEN)</p></li>
<li><p>New materials shelf (NEW)</p></li>
<li><p>On display (DISPLAY)</p></li>
<li><p>Processing center (PROC)</p>
<ul>
<li><p>PROC can be used with <a class="reference internal" href="catalogingpreferences.html#newitemsdefaultlocation"><span class="std std-ref">NewItemsDefaultLocation</span></a> and
<a class="reference internal" href="circulationpreferences.html#updateitemlocationoncheckin"><span class="std std-ref">UpdateItemLocationOnCheckin</span></a>.</p></li>
</ul>
</li>
<li><p>Reference (REF)</p></li>
<li><p>Staff office (STAFF)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>LOST</p>
<ul>
<li><p>Descriptions for the items marked as lost (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>).</p></li>
<li><p>This is normally mapped to items.itemlost in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Lost (1)</p></li>
<li><p>Long overdue (lost) (2)</p></li>
<li><p>Lost and paid for (3)</p></li>
<li><p>Missing (4)</p></li>
</ul>
<p>You can change those to suit your organization’s needs, but the values must
be numerical.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for LOST must be numerical.</p>
</div>
<ul>
<li><p>OPAC_SUG</p>
<ul>
<li><p>A list of reasons displayed in the
<a class="reference internal" href="opac.html#purchase-suggestions-opac-label"><span class="std std-ref">suggestion form</span></a> on the OPAC.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>The copy on the shelf is damaged (damaged)</p></li>
<li><p>Upcoming title by popular author (bestseller)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>NOT_LOAN</p>
<ul>
<li><p>Reasons why a title is not for loan (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>)</p></li>
<li><p>This is normally mapped to items.notforloan in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>On order (-1)</p></li>
<li><p>Not for loan (1)</p></li>
<li><p>Staff collection (2)</p></li>
</ul>
<p>You can change those to suit your organization’s needs, but the values must
be numerical.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for NOT_LOAN must be numerical.</p>
<ul class="simple">
<li><p>Negative number values will still allow holds (use for ‘on order’
statuses, for example)</p></li>
<li><p>Positive numbers will not allow holds or checkouts.</p></li>
<li><p>A value of 0 means ‘for loan’.</p></li>
</ul>
</div>
<ul>
<li><p>ORDER_CANCELLATION_REASON</p>
<ul>
<li><p>Reasons why an order might have been canceled, used in
<a class="reference internal" href="acquisitions.html#cancelling-an-order-label"><span class="std std-ref">acquisitions</span></a></p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>No reason provided (0)</p></li>
<li><p>Out of stock (1)</p></li>
<li><p>Restocking (2)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>PA_CLASS</p>
<ul class="simple">
<li><p>Values used to group
<a class="reference internal" href="#patron-attribute-types-label"><span class="std std-ref">patron attributes</span></a> together in
the patron add form</p></li>
</ul>
</li>
<li><p>PAYMENT_TYPE</p>
<ul>
<li><p>Populates a dropdown list of custom payment types when
<a class="reference internal" href="patrons.html#pay-and-writeoff-fines-label"><span class="std std-ref">paying fines</span></a></p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Cash via SIP2 (SIP00)</p></li>
<li><p>Visa via SIP2 (SIP01)</p></li>
<li><p>Creditcard via SIP2 (SIP02)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>qualif</p>
<ul class="simple">
<li><p>Function codes (author, editor, collaborator, etc.) used in UNIMARC 7XX $4
(French)</p></li>
</ul>
</li>
<li><p>RELTERMS</p>
<ul class="simple">
<li><p>French terms of relations</p></li>
</ul>
</li>
<li><p>REPORT_GROUP</p>
<ul>
<li><p>A way to sort and filter your reports. These will appear as tabs in the
<a class="reference internal" href="reports.html#edit-custom-reports-label"><span class="std std-ref">saved reports page</span></a>.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Account (ACC)</p></li>
<li><p>Acquisitions (ACQ)</p></li>
<li><p>Catalog (CAT)</p></li>
<li><p>Circulation (CIRC)</p></li>
<li><p>Patrons (PAT)</p></li>
<li><p>Serials (SER)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>REPORT_SUBGROUP</p>
<ul>
<li><p>These values can be used to further sort and filter your reports.</p></li>
<li><p>Values here need to include the authorized value code from REPORT_GROUP
in the Description (OPAC) field to link the subgroup to the appropriate group.</p>
<p><img alt="Authorized values for the REPORT_SUBGROUP categories, this screencapture shows that the code for the report group is saved in the Description (OPAC) field of the subgroup authorized value." src="_images/report_subgroup.png" /></p>
</li>
</ul>
</li>
<li><p>RESTRICTED</p>
<ul>
<li><p>Restricted status of an item (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>)</p></li>
<li><p>This is normally mapped to items.restricted in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Restricted access (1)</p></li>
</ul>
<p>You can change those to suit your organization’s needs, but the values must
be numerical.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for this category must be numerical.</p>
</div>
<ul>
<li><p>RETURN_CLAIM_RESOLUTION</p>
<ul>
<li><p>Reasons why a return claim has been resolved</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Returned by patron (RET_BY_PATRON)</p></li>
<li><p>Found in library (FOUND_IN_LIB)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>ROADTYPE</p>
<ul class="simple">
<li><p>Road types to be used in patron addresses (‘street type’ field in the
<a class="reference internal" href="patrons.html#add-a-new-patron-label"><span class="std std-ref">patron form</span></a>)</p></li>
</ul>
</li>
<li><p>SIP_MEDIA_TYPE</p>
<ul class="simple">
<li><p>Used when <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">creating</span></a> or
<a class="reference internal" href="#editing-item-types-label"><span class="std std-ref">editing</span></a> an item type to assign a SIP specific
media type for devices like lockers and sorters.</p></li>
</ul>
</li>
<li><p>STACK</p>
<ul class="simple">
<li><p>Shelving control number (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>)</p></li>
<li><p>This is normally mapped to items.stack in the Koha database.</p></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for this category must be numerical.</p>
</div>
<ul>
<li><p>SUGGEST</p>
<ul>
<li><p>Reasons for acceptance or rejection of suggestions in acquisitions
(appears when <a class="reference internal" href="acquisitions.html#managing-purchase-suggestions-label"><span class="std std-ref">managing suggestions</span></a>)</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Bestseller (BSELL)</p></li>
<li><p>Shelf copy damaged (SCD)</p></li>
<li><p>Library copy lost (LCL)</p></li>
<li><p>Available via ILL (AVILL)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>SUGGEST_FORMAT</p>
<ul>
<li><p>List of item types to display in a drop down menu on the
<a class="reference internal" href="opac.html#purchase-suggestions-opac-label"><span class="std std-ref">suggestion form</span></a> on the OPAC.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Audiobook (AUDIOBOOK)</p></li>
<li><p>Book (BOOK)</p></li>
<li><p>EBook (EBOOK)</p></li>
<li><p>DVD (DVD)</p></li>
<li><p>Large print (LP)</p></li>
</ul>
<p>You can change those to suit your organization’s needs.</p>
</li>
</ul>
</li>
<li><p>SUGGEST_STATUS</p>
<ul class="simple">
<li><p>A list of additional custom status values for
<a class="reference internal" href="acquisitions.html#managing-purchase-suggestions-label"><span class="std std-ref">suggestions</span></a> that can be used
in addition to the default values.</p></li>
</ul>
</li>
<li><p>TERM</p>
<ul class="simple">
<li><p>Terms to be used in <a class="reference external" href="#coursereserves">Course Reserves</a> module.
Enter terms that will show in the drop down menu when setting up a Course
reserve. (For example: Spring, Summer, Winter, Fall).</p></li>
</ul>
</li>
<li><p>UPLOAD</p>
<ul class="simple">
<li><p>Categories to be assigned to <a class="reference internal" href="tools.html#upload-label"><span class="std std-ref">file uploads</span></a>. Without
a category, an upload is considered temporary and may be removed during
automated cleanup.</p></li>
</ul>
</li>
<li><p>WITHDRAWN</p>
<ul>
<li><p>Description of a withdrawn item (appears when
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">adding or editing an item</span></a>)</p></li>
<li><p>This is normally mapped to items.withdrawn in the Koha database.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul class="simple">
<li><p>Withdrawn (1)</p></li>
</ul>
<p>You can change those to suit your organization’s needs, but the values must
be numerical.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The authorized values for this category must be numerical.</p>
</div>
<ul class="simple">
<li><p>YES_NO</p>
<ul>
<li><p>A generic authorized value field that can be used anywhere you
need a simple yes/no pull down menu.</p></li>
<li><p>If you chose to install the default values for this category, you will have</p>
<ul>
<li><p>Yes (1)</p></li>
<li><p>No (0)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="add-new-authorized-value-category">
<span id="add-new-authorized-value-category-label"></span><h4>Add new authorized value category<a class="headerlink" href="#add-new-authorized-value-category" title="永久链接至标题"></a></h4>
<p>In addition to the existing categories that come by default with Koha,
librarians can add their own authorized value categories to control data
that is entered into the system. To add a new category:</p>
<ul>
<li><p>Click ‘New category’</p>
<p><img alt="image144" src="_images/addauthcat.png" /></p>
</li>
<li><p>Limit your Category to 10 characters (something short to make it
clear what the category is for)</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>Category cannot have spaces or special characters other than
underscores and hyphens in it.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>When adding a new category you’re asked to create at least one
authorized value</p>
<ul>
<li><p>Enter a code for your Authorized value into the ‘Authorized value’
field</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>Authorized value is limited to 80 characters and cannot
have spaces or special characters other than underscores
and hyphens in it.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Use the Description field for the actual value that will be
displayed. If you want something different to show in the OPAC,
enter a ‘Description (OPAC)’</p></li>
<li><p>If you would like to limit this authorized value category to only
specific libraries you can choose them from the ‘Branches
limitation’ menu. To have it show for all libraries just choose
‘All branches’ at the top of the list.</p></li>
<li><p>If you have
<a class="reference external" href="#StaffAuthorisedValueImages">StaffAuthorisedValueImages</a>
and/or <a class="reference internal" href="opacpreferences.html#authorisedvalueimages"><span class="std std-ref">AuthorisedValueImages</span></a> set to
show images for authorized values you can choose the image under
‘Choose an icon’</p></li>
</ul>
</li>
<li><p>Click ‘Save’</p></li>
<li><p>Your new category and value will appear on the list of Authorized
values</p>
<p><img alt="image145" src="_images/authvallist.png" /></p>
</li>
</ul>
</section>
<section id="add-new-authorized-value">
<span id="add-new-authorized-value-label"></span><h4>Add new authorized value<a class="headerlink" href="#add-new-authorized-value" title="永久链接至标题"></a></h4>
<p>New authorized values can be added to any existing or new category. To
add a value:</p>
<ul>
<li><p>Click ‘New authorized value for …’</p>
<p><img alt="image146" src="_images/addauthvalue.png" /></p>
</li>
<li><p>Enter a code for your authorized value into the ‘Authorized value’
field</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>Authorized value is limited to 80 characters and cannot have
spaces or special characters other than underscores and
hyphens in it.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Use the Description field for the actual value that will be
displayed. If you want something different to show in the OPAC, enter
a ‘Description (OPAC)’</p></li>
<li><p>If you would like to limit this authorized value category to only
specific libraries you can choose them from the ‘Branches limitation’
menu. To have it show for all libraries just choose ‘All branches’ at
the top of the list.</p></li>
<li><p>If you have
<a class="reference external" href="#StaffAuthorisedValueImages">StaffAuthorisedValueImages</a> and/or
<a class="reference internal" href="opacpreferences.html#authorisedvalueimages"><span class="std std-ref">AuthorisedValueImages</span></a> set to show images
for authorized values you can choose the image under ‘Choose an icon’</p></li>
<li><p>Click ‘Save’</p></li>
<li><p>The new value will appear in the list along with existing values</p>
<p><img alt="image147" src="_images/authvals.png" /></p>
</li>
</ul>
</section>
<section id="deleting-authorized-values">
<span id="delete-authorized-values-label"></span><h4>Deleting authorized values<a class="headerlink" href="#deleting-authorized-values" title="永久链接至标题"></a></h4>
<p>To delete an authorized value, click on the ‘Delete’ button at the right of the
authorized value.</p>
<p>Once there are no authorized values left in an authorized value category, you
can delete the category.</p>
<p><img alt="image1480" src="_images/deleteauthvaluecategory.png" /></p>
</section>
</section>
</section>
<section id="patrons-and-circulation">
<span id="patrons-and-circulation-label"></span><h2>Patrons and circulation<a class="headerlink" href="#patrons-and-circulation" title="永久链接至标题"></a></h2>
<p>Settings for controlling circulation and patron information.</p>
<section id="patron-categories">
<span id="patron-categories-label"></span><h3>Patron categories<a class="headerlink" href="#patron-categories" title="永久链接至标题"></a></h3>
<p>Patron categories allow you to organize your patrons into different
roles, age groups, and patron types.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt; Patron
categories</p></li>
</ul>
<p><img alt="Patron categories table" src="_images/patroncatlist.png" /></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>You can customize the columns of this table in the
<a class="reference internal" href="#column-settings-label"><span class="std std-ref">‘Table settings’</span></a> section of the
Administration module (table id: patron_categories).</p>
</div>
<section id="adding-a-patron-category">
<span id="adding-a-patron-category-label"></span><h4>Adding a patron category<a class="headerlink" href="#adding-a-patron-category" title="永久链接至标题"></a></h4>
<p>To add a new patron category click ‘New category’ at the top of the page</p>
<p><img alt="New patron category form" src="_images/newpatroncategory.png" /></p>
<ul class="simple">
<li><p>Category code: an identifier for your new category.</p>
<ul>
<li><p>The category code is limited to 10 characters (numbers and letters) and
must be unique.</p></li>
<li><p>This field is required in order to save your patron category. If left
blank you will be presented with an error.</p></li>
</ul>
</li>
<li><p>Description: a plain text version of the category.</p>
<ul>
<li><p>The description will be visible throughout Koha.</p></li>
<li><p>This field is required in order to save your patron category. If left
blank you will be presented with an error.</p></li>
</ul>
</li>
<li><p>Enrollment period:</p>
<ul>
<li><p>In months: should be filled in if you have a limited enrollment period
for your patrons. For example, student cards expire after 9 months</p></li>
<li><p>Until date: you can choose a date when the cards will expire</p></li>
<li><p>This field is required in order to save your patron category. If left
blank you will be presented with an error.</p></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>You cannot enter both a month limit and a date until for one category.
Choose to enter either one or the other.</p>
</div>
<ul>
<li><p>Age required: minimum age (in years) requirement associated with the
category. For example, an ‘Adult’ patron category could have a minimum age
of 18 years; this means patrons must be at least 18 to be in the patron
category.</p>
<ul>
<li><p>When creating or updating a patron, a warning will appear if the patron
is too young for this category.</p>
<p><img alt="Warning 'The following fields are wrong. Please fix them. Patron's age is incorrect for their category. Ages allowed are 5-17.'" src="_images/patronagelimit.png" /></p>
</li>
<li><p>This value is used by the
<a class="reference internal" href="cron_jobs.html#cron-update-patron-categories-label"><span class="std std-ref">update_patrons_category.pl</span></a>
cron job to change the category of patrons who are too young.</p></li>
</ul>
</li>
<li><p>Upper age limit: maximum age (in years) associated with the category. For
example, a ‘Children’ patron category could have an upper age limit of 18,
meaning patrons can have children cards until they turn 18.</p>
<ul>
<li><p>When creating or updating a patron, a warning will appear if the patron
is too old for this category.</p>
<p><img alt="Warning 'The following fields are wrong. Please fix them. Patron's age is incorrect for their category. Ages allowed are 5-17.'" src="_images/patronagelimit.png" /></p>
</li>
<li><p>This value is used by the
<a class="reference internal" href="cron_jobs.html#cron-update-patron-categories-label"><span class="std std-ref">update_patrons_category.pl</span></a>
cron job to change the category of patrons who are too old.</p></li>
</ul>
</li>
<li><p>Enrollment fee: enter the amount if you charge a membership fee for your
patrons (such as those who live in another region).</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Only enter numbers and decimals in this field.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Depending on your value for the <a class="reference internal" href="patronspreferences.html#feeonchangepatroncategory"><span class="std std-ref">FeeOnChangePatronCategory</span></a> system
preference, this fee will be charged on patron renewal as well as when they
are first enrolled.</p>
</div>
<ul class="simple">
<li><p>Overdue notice required: choose ‘Yes’ if you want patrons from this category
to receive overdue notices. This will enable you to set the
<a class="reference internal" href="tools.html#overdue-notice-status-triggers-label"><span class="std std-ref">overdue notice triggers</span></a> in
the <a class="reference internal" href="tools.html#tools-label"><span class="std std-ref">Tools module</span></a>.</p></li>
<li><p>Lost items in staff interface: decide on a patron category basis if lost
items are shown in the staff interface.</p>
<ul>
<li><p>Shown: lost items are shown in the staff interface.</p></li>
<li><p>Hidden by default: lost items are hidden, but staff members can click
‘Show all items’ to see them.</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This is only applicable in the staff interface, so changing this value on
patron categories who do not have access to the staff interface won’t make
any difference.</p>
</div>
<ul class="simple">
<li><p>Hold fee: enter the fee amount if you charge patrons from this category a
fee for placing holds on items.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>Only enter numbers and decimals in this field.</p>
</div>
<ul>
<li><p>Category type: choose one of the six main parent categories</p>
<blockquote>
<div><ul class="simple">
<li><p>Adult: most common patron type, usually used for a general ‘Patron’
category.</p></li>
<li><p>Child: children patrons can have a guardian to be attached to them.</p></li>
<li><p>Staff: library staff</p></li>
<li><p>Organizational: organizations can be used as guarantors for Professional
patrons.</p></li>
<li><p>Professional: professional patrons can be linked to Organizational
patrons.</p></li>
<li><p>Statistical: this patron type is used strictly for statistical purposes,
such as in-house use of items.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>This field is required in order to save your patron category.
If left blank you will be presented with an error.</p></li>
</ul>
</li>
<li><p>Branch limitations: if necessary, limit this patron category to only some
branches in your library system. Select ‘All branches’ if you would like
any library to be able to use this category.</p>
<ul class="simple">
<li><p>To select more than one branch, hold the Ctrl key while making your
selection.</p></li>
</ul>
</li>
<li><p>Password reset in OPAC: decide whether patrons of this category are allowed
to reset their password through the OPAC’s ‘Forgotten password’ function. By
default, it will follow the rule set in the <a class="reference internal" href="opacpreferences.html#opacresetpassword"><span class="std std-ref">OpacResetPassword</span></a>
system preference.</p>
<ul class="simple">
<li><p>Follow system preference <a class="reference internal" href="opacpreferences.html#opacresetpassword"><span class="std std-ref">OpacResetPassword</span></a>.</p></li>
<li><p>Allowed: patrons of this category will be able to reset their password
through the OPAC regardless of the setting in <a class="reference internal" href="opacpreferences.html#opacresetpassword"><span class="std std-ref">OpacResetPassword</span></a>.</p></li>
<li><p>Not allowed: patrons of this category will <em>not</em> be able to reset their
password through the OPAC regardless of the setting in
<a class="reference internal" href="opacpreferences.html#opacresetpassword"><span class="std std-ref">OpacResetPassword</span></a>.</p></li>
</ul>
</li>
<li><p>Password change in OPAC: decide whether patrons of this category are allowed
to change their password through the OPAC. By default, it will follow the
rule set in the <a class="reference internal" href="opacpreferences.html#opacpasswordchange"><span class="std std-ref">OpacPasswordChange</span></a> system preference.</p>
<ul class="simple">
<li><p>Follow system preference <a class="reference internal" href="opacpreferences.html#opacpasswordchange"><span class="std std-ref">OpacPasswordChange</span></a>.</p></li>
<li><p>Allowed: patrons of this category will be able to change their password
through the OPAC regardless of the setting in <a class="reference internal" href="opacpreferences.html#opacpasswordchange"><span class="std std-ref">OpacPasswordChange</span></a>.</p></li>
<li><p>Not allowed: patrons of this category will be <em>not</em> able to change their
password through the OPAC regardless of the setting in
<a class="reference internal" href="opacpreferences.html#opacpasswordchange"><span class="std std-ref">OpacPasswordChange</span></a>.</p></li>
</ul>
</li>
<li><p>Minimum password length: enter the minimum password length for patrons of
this category. Leave blank to use the default length set in the
<a class="reference internal" href="patronspreferences.html#minpasswordlength"><span class="std std-ref">minPasswordLength</span></a> system preference.</p></li>
<li><p>Require strong password: decide whether to enforce a strong password policy
(at least one uppercase letter, one lowercase letter and one digit) for
patrons of this category. By default, it will follow the rule set in the
<a class="reference internal" href="patronspreferences.html#requirestrongpassword"><span class="std std-ref">RequireStrongPassword</span></a> system preference.</p>
<ul class="simple">
<li><p>Follow the system preference <a class="reference internal" href="patronspreferences.html#requirestrongpassword"><span class="std std-ref">RequireStrongPassword</span></a>.</p></li>
<li><p>Yes: patrons of this category will be required to have a strong password
regardless of the setting in <a class="reference internal" href="patronspreferences.html#requirestrongpassword"><span class="std std-ref">RequireStrongPassword</span></a>.</p></li>
<li><p>No: patrons of this category will <em>not</em> be required to have a strong
password regardless of the setting in <a class="reference internal" href="patronspreferences.html#requirestrongpassword"><span class="std std-ref">RequireStrongPassword</span></a>.</p></li>
</ul>
</li>
<li><p>Block expired patrons: decide if this patrons from this category are blocked
from performing actions in the OPAC if their card is expired. By default it
will follow the rule set in the <a class="reference internal" href="opacpreferences.html#blockexpiredpatronopacactions"><span class="std std-ref">BlockExpiredPatronOpacActions</span></a>
preference.</p>
<ul class="simple">
<li><p>Follow the system preference <a class="reference internal" href="opacpreferences.html#blockexpiredpatronopacactions"><span class="std std-ref">BlockExpiredPatronOpacActions</span></a>.</p></li>
<li><p>Block: patrons of this category whose membership has expired will be
blocked from renewing and placing holds in the OPAC, regardless of the
setting in <a class="reference internal" href="opacpreferences.html#blockexpiredpatronopacactions"><span class="std std-ref">BlockExpiredPatronOpacActions</span></a>.</p></li>
<li><p>Don’t block: patrons of this category whose membership has expired will
<em>not</em> be blocked from renewing and placing holds in the OPAC, regardless
of the setting in <a class="reference internal" href="opacpreferences.html#blockexpiredpatronopacactions"><span class="std std-ref">BlockExpiredPatronOpacActions</span></a>.</p></li>
</ul>
</li>
<li><p>Default privacy: choose the default privacy settings for patrons of this
category.</p>
<ul class="simple">
<li><p>Default: checkout history will be kept indefinitely, until either the
<a class="reference internal" href="cron_jobs.html#cron-anonymize-patron-data-label"><span class="std std-ref">batch_anonymize.pl script</span></a> is
run or there is a manual
<a class="reference internal" href="tools.html#patrons-anonymize-bulk-delete-label"><span class="std std-ref">batch anonymization</span></a> which
is performed.</p></li>
<li><p>Never: checkout history is anonymized upon return. Statistics are kept,
but the link between the checkout, the item and the patron is removed.</p></li>
<li><p>Forever: checkout history is never anonymized for patrons of this
category, regardless of the cron job or manual anonymization.</p></li>
<li><p>This setting can be edited by the patron via the OPAC if you allow it
with the <a class="reference internal" href="opacpreferences.html#opacprivacy"><span class="std std-ref">OPACPrivacy</span></a> system preference.</p></li>
</ul>
</li>
<li><p>Exclude from local holds priority: choose whether holds for patrons of this
category are given a priority.</p>
<ul class="simple">
<li><p>Yes: holds for patrons of this category are not given special priority,
regardless of the setting in
<a class="reference internal" href="circulationpreferences.html#localholdspriority-preferences-label"><span class="std std-ref">LocalHoldsPriority</span></a>.</p></li>
<li><p>No: holds for patrons of this category are subjected to the setting in
<a class="reference internal" href="circulationpreferences.html#localholdspriority-preferences-label"><span class="std std-ref">LocalHoldsPriority</span></a>.</p></li>
</ul>
</li>
<li><p>Default messaging preferences for this patron category: assign advanced
messaging preferences by default to the patron category</p>
<ul class="simple">
<li><p>These default preferences can be changed on an individual basis for
each patron. This setting is just a default to make it easier to set up
messages when creating new patrons.</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This requires that you have <a class="reference internal" href="patronspreferences.html#enhancedmessagingpreferences"><span class="std std-ref">EnhancedMessagingPreferences</span></a> system
preference set to ‘Allow’.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>These defaults will only be applied to new patrons that are added to the
system. They will not edit the preferences of the existing patrons.</p>
<p>If you need to apply the default preferences to existing patrons, you can
force those changes by running the borrowers-force-messaging-defaults script
found in the misc/maintenance folder. Ask your system administrator for
assistance with this script.</p>
</div>
</section>
</section>
<section id="circulation-and-fines-rules">
<span id="circulation-and-fines-rules-label"></span><h3>Circulation and fines rules<a class="headerlink" href="#circulation-and-fines-rules" title="永久链接至标题"></a></h3>
<p>These rules define how your items are circulated, how and when fines are
calculated and how holds are handled.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt;
Circulation and fines rules</p></li>
</ul>
<p>The rules are applied from most specific to less specific, using the
first found in this order:</p>
<ul class="simple">
<li><p>same library, same patron category, same item type</p></li>
<li><p>same library, same patron category, all item types</p></li>
<li><p>same library, all patron categories, same item type</p></li>
<li><p>same library, all patron categories, all item types</p></li>
<li><p>default (all libraries), same patron category, same item type</p></li>
<li><p>default (all libraries), same patron category, all item types</p></li>
<li><p>default (all libraries), all patron categories, same item type</p></li>
<li><p>default (all libraries), all patron categories, all item types</p></li>
</ul>
<p>The <a class="reference internal" href="circulationpreferences.html#circcontrol"><span class="std std-ref">CircControl</span></a> and <a class="reference internal" href="circulationpreferences.html#homeorholdingbranch"><span class="std std-ref">HomeOrHoldingBranch</span></a> also come in to play when
figuring out which circulation rule to follow.</p>
<ul>
<li><p>If <a class="reference internal" href="circulationpreferences.html#circcontrol"><span class="std std-ref">CircControl</span></a> is set to “the library you are logged in at” circulation
rules will be selected based on the library you are logged in at</p></li>
<li><p>If <a class="reference internal" href="circulationpreferences.html#circcontrol"><span class="std std-ref">CircControl</span></a> is set to “the library the patron is from” circulation rules
will be selected based on the patron’s library</p></li>
<li><p>If <a class="reference internal" href="circulationpreferences.html#circcontrol"><span class="std std-ref">CircControl</span></a> is set to “the library the item is from” circulation rules
will be selected based on the item’s library where
<a class="reference internal" href="circulationpreferences.html#homeorholdingbranch"><span class="std std-ref">HomeOrHoldingBranch</span></a> chooses if the item’s home library  or its holding
library is used.</p></li>
<li><p>If <a class="reference internal" href="administrationpreferences.html#independentbranches"><span class="std std-ref">IndependentBranches</span></a> is set to ‘Prevent’
then the value of <a class="reference internal" href="circulationpreferences.html#homeorholdingbranch"><span class="std std-ref">HomeOrHoldingBranch</span></a> is used in figuring out if the
item can be checked out. If the item’s home library does not match
the logged in library, the item cannot be checked out unless you are
a <a class="reference internal" href="patrons.html#patron-permissions-defined-label"><span class="std std-ref">superlibrarian</span></a>.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>At the very least you will need to set a default circulation rule.
This rule should be set for all item types, all libraries and all
patron categories. That will catch all instances that do not match a
specific rule. When checking out if you do not have a rule for all
libraries, all item types and all patron categories then you may see
patrons getting blocked from placing holds.</p>
</div></blockquote>
</li>
</ul>
<section id="defining-circulation-rules">
<span id="defining-circulation-rules-label"></span><h4>Defining circulation rules<a class="headerlink" href="#defining-circulation-rules" title="永久链接至标题"></a></h4>
<p>Using the issuing rules matrix you can define rules that depend on
patron category/item type combos. To set your rules, choose a library from the
pull down (or ‘Standard rules for all libraries’ if you want to apply these rules
to all branches):</p>
<p><img alt="'Select a library' drop down menu" src="_images/selectissuinglibrary.png" /></p>
<p>From the matrix you can choose any combination of patron categories and
item types to apply the rules to</p>
<p><img alt="Circulation rules table" src="_images/addcircrule.png" /></p>
<ul>
<li><p>First choose which patron category you’d like the rule to be applied
to. If you leave this to ‘All’ it will apply to all patron categories</p></li>
<li><p>Choose the item type you would like this rule to apply to. If you
leave this to ‘All’ it will apply to all item types for this patron category</p>
<ul>
<li><p>If an item type has a parent item type, the rule will be displayed as
Parent -&gt; Child. The number of current checkouts will be limited to either
the maximum for the parent (including sibling types) or the specific type’s
rule, whichever is less.</p>
<p><img alt="Circulation rules table with a rule for DVDs for which the maximum is 5 checkouts and a rule for Blu-ray (child of DVD) for which the maximum is 2 checkouts" src="_images/parentchilditemtyperule.png" /></p>
<p>In the example above, there is a rule for the DVD item type with a
maximum of 5 checkouts and a rule for Blu-ray, a child of DVD, with a
maximum of 2 checkouts. A patron at this library will be able to check out
a maximum of 2 Blu-rays in a total of 5 items of either DVD or Blu-ray
types.</p>
<p>To summarize, a patron at this library would be able to take either :
-  0 Blu-ray and a maximum of 5 DVDs
-  1 Blu-ray and a maximum of 4 DVDs
-  2 Blu-ray and a maximum of 3 DVDs</p>
</li>
</ul>
</li>
<li><p>Add notes about your circulation rule into the notes field. This can
be helpful to remember why and when something was last changed.</p></li>
<li><p>Limit the number of items of this type a patron of this category can have
checked out at the same time by entering a number in the ‘Current checkouts
allowed’ field.</p></li>
<li><p>If you’re allowing <a class="reference internal" href="circulationpreferences.html#onsitecheckouts-label"><span class="std std-ref">on-site checkouts</span></a> then you
may also want to set a limit on the number of items of this type patrons of
this category can have on-site.</p>
<ul>
<li><p><strong>注释</strong></p>
<blockquote>
<div><p>This setting also depends on the
<a class="reference internal" href="circulationpreferences.html#consideronsitecheckoutsasnormalcheckouts"><span class="std std-ref">ConsiderOnSiteCheckoutsAsNormalCheckouts</span></a>
preference</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Define the period of time an item of this type can be checked out to a
patron of this category by entering the number of units (days or hours) in
the ‘Loan period’ box.</p></li>
<li><p>Define if the loan period should include closed days or not in the ‘Days
mode’ column. The option chosen here will override the <a class="reference internal" href="circulationpreferences.html#usedaysmode"><span class="std std-ref">useDaysMode</span></a>
system preference for this particular rule.</p>
<ul class="simple">
<li><p>The ‘Default’ option will take the option defined in the
<a class="reference internal" href="circulationpreferences.html#usedaysmode"><span class="std std-ref">useDaysMode</span></a> system preference</p></li>
<li><p>Choose the ‘Calendar’ option if you want to use the calendar to skip the
days when the library is closed</p></li>
<li><p>Choose the ‘Datedue’ option if you want to push the due date to the next
open day</p></li>
<li><p>Choose the ‘Days’ option if you want to ignore the calendar and calculate
the due date directly</p></li>
<li><p>Choose the ‘Dayweek’ option if you want to use the calendar to push the
due date to the next open matching weekday for weekly loan periods, or
the next open day otherwise</p></li>
</ul>
</li>
<li><p>Choose which unit of time, days or hours, that the loan period and
fines will be calculated in in the ‘Unit’ column</p></li>
<li><p>You can also define a hard due date for a specific patron category
and item type. The hard due date offers three options:</p>
<ul class="simple">
<li><p>Exactly on: The due date of any item checked out with this rule
will be set to the hard due date.</p></li>
<li><p>Before: Koha will calculate the normal loan period. If the calculated
due date would be after or on the hard due date, the hard due date
will be used instead.</p></li>
<li><p>After: Koha will calculate the normal loan period. If the calculated
due date would be before the hard due date, the hard due date will
be used instead.</p></li>
</ul>
</li>
<li><p>‘Fine amount’ should have the amount you would like to charge for
overdue items.</p>
<p><strong>重要</strong></p>
<p>Enter only numbers and decimal points (no currency symbols).</p>
</li>
<li><p>Enter the ‘Fine charging interval’ in the unit you set (ex. charge
fines every 1 day, or every 2 hours). The <a class="reference internal" href="circulationpreferences.html#finescalendar"><span class="std std-ref">finesCalendar</span></a> system
preference controls whether the days the library is closed will be taken
into account or not.</p></li>
<li><p>‘When to charge’ is most handy in libraries that have a fine charging
interval of more than 1 day.</p>
<ul class="simple">
<li><p>End of interval: Given a grace period of 2 days and a fine interval of 7
days, the first fine will appear 7 days after the due date, it will
always take one fine interval (7 days), before the first fine is charged.</p></li>
<li><p>Start of interval: Given a grace period of 2 days and a fine interval of
7 days, the first fine will appear 2 days after the due date and the
second fine 7 days after the due date.</p></li>
</ul>
</li>
<li><p>The ‘Fine grace period’ is the period of time an item can be overdue
before you start charging fines. The <a class="reference internal" href="circulationpreferences.html#finesincludegraceperiod"><span class="std std-ref">FinesIncludeGracePeriod</span></a>
system preference controls if the grace period will be included when
calculating the fine or not.</p>
<p><strong>重要</strong></p>
<p>This can only be set for the ‘Day’ unit, not in ‘Hours’</p>
</li>
<li><p>The ‘Overdue fines cap’ is the maximum fine per item for this patron
and item type combination.</p>
<p><strong>重要</strong></p>
<p>If this field is left blank then Koha will not put a limit on the fines
this item will accrue. A maximum fine amount for all overdues can be
set using the <a class="reference internal" href="patronspreferences.html#maxfine"><span class="std std-ref">MaxFine</span></a> system preference.</p>
</li>
<li><p>If you would like to prevent overcharging patrons for a lost items,
you can check the box under ‘Cap fine at replacement price.’ This
will prevent the patron’s fines from going above the replacement
price on the item.</p>
<p><strong>注释</strong></p>
<p>If the ‘Overdue fines cap’ is also set, the fine will be the
lesser of the two, if both apply to the given overdue
checkout.</p>
</li>
<li><p>If your library ‘fines’ patrons by suspending their account you can
enter the number of days their fine should be suspended in the
‘Suspension in days’ field.</p>
<p><strong>重要</strong></p>
<p>This can only be set for the ‘Day’ unit, not in ‘Hours’</p>
</li>
<li><p>You can also define the maximum number of days a patron will be
suspended in the ‘Max suspension duration’ setting</p></li>
<li><p>The ‘Suspension charging interval’ option is just like the ‘Fin charging
interval’. For example, you could ‘fine’ a patron one day suspension for
every two days overdue.</p></li>
<li><p>Next decide if the patron can renew this item type and if so, enter
how many times they can renew it in the ‘Renewals allowed’ box.</p></li>
<li><p>If you allow unseen renewals (see <a class="reference internal" href="circulationpreferences.html#unseenrenewals"><span class="std std-ref">UnseenRenewals</span></a>), enter how many
‘unseen’ renewals patrons can make. This is <em>not</em> in addition to the regular
renewals, but rather how many ‘unseen’ renewals can be made <em>among</em> the
total number of renewals.</p></li>
<li><p>If you’re allowing renewals you can control how long the renewal loan
period will be (in the units you have chosen) in the ‘Renewal period’
box.</p></li>
<li><p>If you’re allowing renewals you can control how soon before the due
date patrons can renew their materials with the ‘No renewals before’
box.</p>
<ul class="simple">
<li><p>Items can be renewed at any time if this value is left blank.
Otherwise items can only be renewed if the item is due after the
number in units (days/hours) entered in this box.</p></li>
<li><p>To control this value on a more granular level please set the
<a class="reference internal" href="circulationpreferences.html#norenewalbeforeprecision"><span class="std std-ref">NoRenewalBeforePrecision</span></a> preference.</p></li>
</ul>
</li>
<li><p>You can enable automatic renewals for certain items/patrons if you’d
like. This will renew automatically following your circulation rules
unless there is a hold on the item.</p>
<p><strong>重要</strong></p>
<p>You will need to enable the
<a class="reference internal" href="cron_jobs.html#cron-automatic-renewal-label"><span class="std std-ref">automatic renewal cron job</span></a> for this to
work.</p>
<p><strong>重要</strong></p>
<p>This feature needs to have the “no renewal before” column
filled in or it will auto renew every day after the due date.</p>
</li>
<li><p>If you are using automatic renewals, you can use the ‘No automatic renewals
after’ to limit the time a patron can have the item. For example: don’t
allow automatic renewals after a checkout period of 80 days.</p></li>
<li><p>Similar to the hard due date setting, you can also stop automatic renewals
after a specific date using the ‘No automatic renewal after (hard limit)’
setting.</p></li>
<li><p>If patrons of this category can place holds on items of this type, enter the
total numbers of items (of this type) that can be put on hold in the ‘Holds
allowed’ field.</p>
<ul class="simple">
<li><p>Leave empty to have unlimited holds.</p></li>
<li><p>If you’d rather put a hold limit per patron category, independent of the
item type, see the
<a class="reference internal" href="#default-checkouts-and-hold-by-category-label"><span class="std std-ref">default checkout and hold policy by patron category</span></a>
section below.</p></li>
<li><p>If you want to have a hard hold limit, independent of patron category and
item type, for this particular library, see the
<a class="reference internal" href="#default-checkouts-and-hold-policy-label"><span class="std std-ref">Default checkout, hold, and return policy</span></a>
section below.</p></li>
<li><p>If you want to have a hard hold limit, independent of patron category,
item type, and across all libraries, see the <a class="reference internal" href="circulationpreferences.html#maxreserves"><span class="std std-ref">maxreserves</span></a> system
preference.</p></li>
</ul>
</li>
<li><p>You can also set a daily limit on the number of holds a patron can place.</p></li>
<li><p>While the two settings before limit the holds that can be placed across
various records, the next setting is used to limit the number of holds
that can be placed on one record at the same time.
For example, for fiction books you might want to allow only one item to be
placed on hold at the same time by the same user. But for serials where items
represent different issues more than one hold at the same time is fine.</p></li>
<li><p>Next you can decide how the availability of items influences the ability
to place a hold. The ‘On shelf holds allowed’ option has three settings:</p>
<ul class="simple">
<li><p>Yes: This will allow to place holds on items at all times. It doesn’t
matter if they are available or checked out.</p></li>
<li><p>If any unavailable: This will allow to place a hold as soon as one
or more items of the record are checked out. It doesn’t matter if
there are still one or more items available on the shelf.</p></li>
<li><p>If all unavailable: This will allow to place a hold as soon as all
items on the record are checked out that could fill the hold. This is
especially useful for libraries that don’t offer the service of getting
items placed on hold off the shelf for patrons.</p></li>
</ul>
</li>
<li><p>Under ‘OPAC item level hold’ you can decide if patrons are allowed to place
item specific holds on the item type in question. The options are:</p>
<ul class="simple">
<li><p>Allow: Will allow patrons the option to choose next available or
a specific item.</p></li>
<li><p>Don’t allow: Will only allow patrons to choose next available item.</p></li>
<li><p>Force: Will only allow patrons to choose a specific item.</p></li>
</ul>
</li>
<li><p>If you want to allow patrons of this category to be able to place article
requests on items of this type, choose an option in the ‘Article requests’
column</p>
<ul class="simple">
<li><p>No: patrons of this category will not be able to place article requests
on items of this type</p></li>
<li><p>Yes: patrons of this category will be able to place article requests on
items of this type, either on specific items (for example in the case of
serial issues) or on entire records (for example in the case of
monographs)</p></li>
<li><p>Record only: patrons of this category will be able to place article
requests on records of this type, but not on specific items</p></li>
<li><p>Item only: patrons of this category will be able to place article
requests on items of this type, but not on entire records</p></li>
</ul>
<p><strong>重要</strong></p>
<p>If you want to use the article request functionality you need to enable it
using the <a class="reference internal" href="circulationpreferences.html#articlerequests"><span class="std std-ref">ArticleRequests</span></a> system preference and configure the form
using the other related preferences.</p>
</li>
<li><p>Finally, if you <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">charge a rental fee for the item type</span></a>
and want to give this specific patron category a discount on that fee,
enter the percentage discount (without the % symbol) in the ‘Rental
discount’ field</p></li>
</ul>
<p>When finished, click ‘Save’ to save your changes. To modify a rule,
simply click the ‘Edit’ button either at the beginning or at the end of the row.
The row of the rule being edited will be highlighted in yellow and the values
will appear filled in at the bottom of the table. Edit the values at the bottom
and click save.</p>
<p><img alt="Circulation rules table where the rule being edited is highlighted and it is repeated at the bottom for editing" src="_images/editcircfine.png" /></p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>If, while editing a rule, you change either the patron category or the item
type, it will create a new rule. You can do this to duplicate rules instead of
creating new ones if the values are similar.</p>
</div></blockquote>
<p>Alternatively, you can create a rule with the same patron category and item type
and it will edit the existing one, as there can only be one rule per library-
patron category-item type combination.</p>
<p>If you would like to delete your rule, click the ‘Delete’ button at the beginning
or at the end of the rule row.</p>
<p>To save time you can clone rules from one library to another by choosing
the clone option above the rules matrix. Please note that this will overwrite
all rules already configured for that library.</p>
<p><img alt="Drop-down menu 'Clone these rules to' next to the library selection" src="_images/clonerules.png" /></p>
<p>After choosing to clone you will be presented with a confirmation message.</p>
<p><img alt="Confirmation message that says 'The rules have been cloned.'" src="_images/rulescloned.png" /></p>
</section>
<section id="default-checkout-hold-and-return-policy">
<span id="default-checkouts-and-hold-policy-label"></span><h4>Default checkout, hold, and return policy<a class="headerlink" href="#default-checkout-hold-and-return-policy" title="永久链接至标题"></a></h4>
<p>You can set a default maximum number of checkouts, a default maximum number
of holds and a hold policy that
will be used if none is defined below for a particular item type or
category. This is the fall back rule for defaults.</p>
<p><img alt="image161" src="_images/defaultcheckholds.png" /></p>
<p>From this menu you can set a default to apply to all item types and
patrons in the library if no other option is set in the forms below.</p>
<ul class="simple">
<li><p>In ‘Total current checkouts allowed’ enter the total number of items
patrons can have checked out at one time</p></li>
<li><p>In ‘Total current on-site checkouts allowed’ enter the total number
of items patrons can have checked out on site at a time
(<a class="reference internal" href="circulationpreferences.html#onsitecheckouts"><span class="std std-ref">OnSiteCheckouts</span></a> needs to be set to ‘Enable’)</p></li>
<li><p>In ‘Maximum total holds allowed (count)’ enter the total number
of pending holds patrons can have at the same time.</p></li>
<li><p>Control where patrons can place holds from using the ‘Hold Policy’
menu</p>
<ul>
<li><p>From Any Library: Patrons from any library may put this item on
hold. (default if none is defined)</p></li>
<li><p>From Local Hold Group: Only patrons from a library in the item home
library’s local hold group may put this book on hold.</p></li>
<li><p>From Home Library: Only patrons from the item’s home library may
put this book on hold.</p></li>
<li><p>No Holds Allowed: No patron may put this book on hold.</p></li>
</ul>
</li>
<li><p>Control where patron can pick up holds using the “Hold Pickup Library
Match” menu</p>
<ul>
<li><p>any library</p></li>
<li><p>item’s hold group</p></li>
<li><p>patron’s hold group</p></li>
<li><p>item’s home library</p></li>
<li><p>item’s holding library</p></li>
</ul>
</li>
<li><p>Control where the item returns to once it is checked in</p>
<ul>
<li><p>Item returns home</p></li>
<li><p>Item returns to issuing branch</p></li>
<li><p>Item floats</p>
<ul>
<li><p>When an item floats it stays where it was checked in and does
not ever return ‘home’</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once your policy is set, you can unset it by clicking the ‘Unset’
link to the right of the rule</p></li>
</ul>
</section>
<section id="default-checkout-and-hold-policy-by-patron-category">
<span id="default-checkouts-and-hold-by-category-label"></span><h4>Default checkout and hold policy by patron category<a class="headerlink" href="#default-checkout-and-hold-policy-by-patron-category" title="永久链接至标题"></a></h4>
<p>For this library, you can specify the maximum number of checkouts,
on-site checkouts and holds that a patron of a given category can have,
regardless of the item type.</p>
<p><img alt="image162" src="_images/checkoutsperpatron.png" /></p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>If the total amount of checkouts, on-site checkout and holds
for a given patron category is left blank, no limit applies,
except possibly for a limit you define in the circulation rules above.</p>
</div></blockquote>
<p>For example, if you have a rule in the matrix that says Board patrons
are allowed 10 books and 5 DVDs but you want to make it so that Board
patrons only have a total of 12 things checked out at once. If you enter
12 here and the patron has 10 books out already they will only be
allowed 2 DVDs to equal the 12 total they’re allowed.</p>
</section>
<section id="default-open-article-requests-limit">
<span id="default-open-article-requests-limit-label"></span><h4>Default open article requests limit<a class="headerlink" href="#default-open-article-requests-limit" title="永久链接至标题"></a></h4>
<p>If <a class="reference internal" href="circulationpreferences.html#articlerequests"><span class="std std-ref">ArticleRequests</span></a> is enabled, you can set a maximum number of open
article requests a patron of a category can have at one time.</p>
<p><img alt="Default open article requests limit by patron category form in the circulation and fines rules page" src="_images/defaultopenarticlerequestslimit.png" /></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This will only appear if the <a class="reference internal" href="circulationpreferences.html#articlerequests"><span class="std std-ref">ArticleRequests</span></a> system preference is
enabled.</p>
</div>
<ul class="simple">
<li><p>Choose the patron category you want to limit.</p></li>
<li><p>Enter the number of open article requests a patron of this category can have
at one given time</p></li>
<li><p>Click ‘Add’</p></li>
</ul>
</section>
<section id="default-article-request-fees">
<span id="default-article-request-fees-label"></span><h4>Default article request fees<a class="headerlink" href="#default-article-request-fees" title="永久链接至标题"></a></h4>
<p>If <a class="reference internal" href="circulationpreferences.html#articlerequests"><span class="std std-ref">ArticleRequests</span></a> is enabled, you can set the fee a patron from a given
category (or any category) needs to pay in order to request the article.</p>
<p><img alt="Default article request fee by patron category form in the circulation and fines rules page" src="_images/defaultarticlerequestfee.png" /></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>This will only appear if the <a class="reference internal" href="circulationpreferences.html#articlerequests"><span class="std std-ref">ArticleRequests</span></a> system preference is
enabled.</p>
</div>
<ul>
<li><p>Choose the patron category for which you want to add a fee, or choose ‘All’
to set an overall fee for all patrons</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The fee specific to a patron category will supercede the fee for all
categories.</p>
<p>For example, if you set a fee for all categories to 2$ and a fee for
Faculty to 3$, Faculty members will be charged 3$ and any other patron
will be charged 2$.</p>
</div>
</li>
<li><p>Enter the fee amount (use a period as the decimal and don’t enter any symbols,
e.g. enter 5.00 for 5$)</p></li>
<li><p>Click ‘Add’</p></li>
</ul>
<p>The fee is charged to the patron <a class="reference internal" href="circulation.html#placing-article-requests-label"><span class="std std-ref">when the request is placed</span></a>.</p>
<p>When placing the request, either through the staff interface or the OPAC, a
message appears to inform the staff member or the patron that the patron will
be charged for every request and the amount of the fee.</p>
</section>
<section id="default-lost-item-fee-refund-on-return-policy">
<span id="item-fee-refund-on-return-label"></span><h4>Default lost item fee refund on return policy<a class="headerlink" href="#default-lost-item-fee-refund-on-return-policy" title="永久链接至标题"></a></h4>
<p>Here, you can specify the default policy for lost item fees on return.
This policy will apply to this library. This rule is to be used with the
<a class="reference internal" href="circulationpreferences.html#refundlostonreturncontrol"><span class="std std-ref">RefundLostOnReturnControl</span></a> system preference.</p>
<p>You can limit the number of days during which a lost item is refundable using
the <a class="reference internal" href="circulationpreferences.html#norefundonlostreturneditemsage"><span class="std std-ref">NoRefundOnLostReturnedItemsAge</span></a> system preference.</p>
</section>
<section id="default-holds-policy-by-item-type">
<span id="item-hold-policies-label"></span><h4>Default holds policy by item type<a class="headerlink" href="#default-holds-policy-by-item-type" title="永久链接至标题"></a></h4>
<p>For this library, you can edit hold and return policies for a given item
type, regardless of the patron’s category.</p>
<p><img alt="image163" src="_images/holdsperitem.png" /></p>
<p>The various hold policies have the following effects:</p>
<ul>
<li><p>From any library: Patrons from any library may put this item on hold.
(default if none is defined)</p></li>
<li><p>From local hold group: Only patrons from libraries in the same item’s
home library hold groups may put this book on hold.</p></li>
<li><p>From home library: Only patrons from the item’s home library may put
this book on hold.</p></li>
<li><p>No holds allowed: No patron may put this book on hold.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>Note that if the system preference
<a class="reference internal" href="circulationpreferences.html#allowholdpolicyoverride"><span class="std std-ref">AllowHoldPolicyOverride</span></a> set to
‘allow’, these policies can be overridden by your circulation staff.</p>
<p><strong>重要</strong></p>
<p>These policies are applied based on the ReservesControlBranch
system preference.</p>
</div></blockquote>
</li>
</ul>
<p>Control where patron can pick up holds using the “Hold Pickup Library Match”
menu</p>
<ul class="simple">
<li><p>any library</p></li>
<li><p>item’s hold group</p></li>
<li><p>patron’ hold group</p></li>
<li><p>item’s home library</p></li>
<li><p>item’s holding library</p></li>
</ul>
<p>The various return policies have the following effects:</p>
<ul>
<li><p>Item returns home: The item will prompt the librarian to transfer the
item to its home library</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>If the <a class="reference internal" href="circulationpreferences.html#automaticitemreturn"><span class="std std-ref">AutomaticItemReturn</span></a>
preference is set to automatically transfer the items home,
then a prompt will not appear</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Item returns to issuing branch: The item will prompt the librarian to
transfer the item back to the library where it was checked out</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>If the <a class="reference internal" href="circulationpreferences.html#automaticitemreturn"><span class="std std-ref">AutomaticItemReturn</span></a>
preference is set to automatically transfer the items home,
then a prompt will not appear</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Item floats: The item will not be transferred from the branch it was
checked in at, instead it will remain there until transferred
manually or checked in at another branch</p></li>
</ul>
<p>For example you might allow holds at your libraries but not what New
items or DVDs to be placed on hold by other branches so you can set the
‘Hold policy’ to ‘From home library’ so that those items can only be
placed on hold if the items’ owning library and the patron’s home
library are the same. You can also block holds completely on specific
item types from this form. This is also how you can set up floating item
types and types that remain with their home library.</p>
</section>
</section>
<section id="patron-attribute-types">
<span id="patron-attribute-types-label"></span><h3>Patron attribute types<a class="headerlink" href="#patron-attribute-types" title="永久链接至标题"></a></h3>
<p>Patron attributes can be used to define custom fields to associate with
your patron records. In order to enable the use of custom fields you
need to set the <a class="reference internal" href="patronspreferences.html#extendedpatronattributes"><span class="std std-ref">ExtendedPatronAttributes</span></a>
system preference.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt; Patron
attribute types</p></li>
</ul>
<p>A common use for this field would be for a student ID number or a
Driver’s license number.</p>
<p><img alt="image164" src="_images/attributes.png" /></p>
<section id="adding-patron-attributes">
<span id="adding-patron-attributes-label"></span><h4>Adding patron attributes<a class="headerlink" href="#adding-patron-attributes" title="永久链接至标题"></a></h4>
<p>To add a new patron attribute type, click the ‘New patron attribute
type’ button at the top of the page</p>
<p><img alt="image165" src="_images/addattribute.png" /></p>
<ul>
<li><p>In the ‘Patron attribute type code’, enter a short code to identify
this field</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>This field is limited to 10 characters (numbers and letters
only)</p>
</div></blockquote>
</li>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>This setting cannot be changed after an attribute is defined</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>In the ‘Description’ field, enter a longer (plain text) explanation
of what this field will contain</p></li>
<li><p>Check the box next to ‘Repeatable’ to let a patron record have
multiple values of this attribute.</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>This setting cannot be changed after an attribute is defined</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>If ‘Unique identifier’ is checked, the attribute will be a unique
identifier which means, if a value is given to a patron record, the
same value cannot be given to a different record.</p>
<ul>
<li><p>Unique attributes can be used as match points on the <a class="reference internal" href="tools.html#patron-import-label"><span class="std std-ref">patron
import tool</span></a></p></li>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>This setting cannot be changed after an attribute is defined</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Check ‘Display in OPAC’ to display this attribute on a patron’s
details page in the OPAC.</p></li>
<li><p>Check ‘Editable in OPAC’ to enable patrons to edit this information in
the OPAC.</p></li>
<li><p>Check ‘Searchable’ to make this attribute searchable in the staff
patron search.</p></li>
<li><p>Check ‘Display in patron’s brief information’ to make this attribute visible in the
patron’s short detail display on the left of the checkout screen and
other patron pages</p>
<p><img alt="image166" src="_images/showattribute.png" /></p>
</li>
<li><p>Authorized value category; if one is selected, the patron record
input page will only allow values to be chosen from the authorized
value list.</p>
<ul>
<li><p>You will first need to add an authorized value list for it to
appear in this menu</p>
<ul class="simple">
<li><p><em>Get there:</em>More &gt; Administration &gt; Basic parameters &gt;
<a class="reference internal" href="#authorized-values-label"><span class="std std-ref">Authorized values</span></a></p></li>
</ul>
</li>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>an authorized value list is not enforced during batch patron
import.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>If you would like this attribute to only be used by specific branches
you can choose those branches from the ‘Branches limitation’ list.
Choose ‘All branches’ to show it for all libraries.</p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>Note that items with locations already set on them will not be
altered. The branch limitation only limits the choosing of an
authorized value based on the home branch of the current staff
login. All authorized values for item records (LOC, LOST,
CCODE, etc) will show in the OPAC for all patrons.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>If you’d like to only show this attribute on patrons of one type
choose that patron type from the ‘Category’ pull down</p></li>
<li><p>If you have a lot of attributes it might be handy to group them so
that you can easily find them for editing. If you create an
<a class="reference internal" href="#authorized-values-label"><span class="std std-ref">Authorized value</span></a> for PA_CLASS it will show
in the ‘Class’ pull down and you can then change your attributes page
to have sections of attributes</p>
<p><img alt="image167" src="_images/pa_class.png" /></p>
</li>
<li><p>Click Save to save your new attribute</p></li>
</ul>
<p>Once added your attribute will appear on the list of attributes and also
on the patron record add/edit form</p>
<p><img alt="image168" src="_images/patronattribute.png" /></p>
<p>If you have set up classes for organizing attributes they will appear
that way on the add/edit patron form</p>
<p><img alt="image169" src="_images/pa_class-patron.png" /></p>
</section>
<section id="editing-deleting-patron-attributes">
<span id="editing-deleting-patron-attributes-label"></span><h4>Editing/deleting patron attributes<a class="headerlink" href="#editing-deleting-patron-attributes" title="永久链接至标题"></a></h4>
<p>Each patron attribute has an edit and a delete link beside it on the
list of attributes.</p>
<p>Some fields in the attribute will not be editable once created:</p>
<ul class="simple">
<li><p>Patron attribute type code</p></li>
<li><p>Repeatable</p></li>
<li><p>Unique identifier</p></li>
</ul>
<p>You will be unable to delete an attribute if it’s in use.</p>
<p><img alt="image170" src="_images/deletepatronattr.png" /></p>
</section>
</section>
<section id="library-transfer-limits">
<span id="library-transfer-limits-label"></span><h3>Library transfer limits<a class="headerlink" href="#library-transfer-limits" title="永久链接至标题"></a></h3>
<p>Limit the ability to transfer items between libraries based on the
library sending, the library receiving, and the collection code
involved.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt; Library
transfer limits</p></li>
</ul>
<p>These rules only go into effect if the preference
<a class="reference internal" href="circulationpreferences.html#usebranchtransferlimits-and-branchtransferlimitstype-label"><span class="std std-ref">UseBranchTransferLimits</span></a> is set to ‘enforce’.</p>
<p>Before you begin you will want to choose which library you are setting
these limits for.</p>
<p><img alt="image171" src="_images/librarytransferselect.png" /></p>
<p>Transfer limits are set based on the collections codes you have applied
via the <a class="reference internal" href="#authorized-values-label"><span class="std std-ref">Authorized values</span></a> administration area.</p>
<p><img alt="image172" src="_images/collectcodes.png" /></p>
<p>Collection codes will appear as tabs above the checkboxes:</p>
<p><img alt="image173" src="_images/limittocollcode.png" /></p>
<p>Check the boxes for the libraries you allow your items to be transferred to for the
collection code you have selected at the top (in the example below - FIC)</p>
<p><img alt="image174" src="_images/transferlimits.png" /></p>
<p>In the above example, Centerville library will allow patrons from all libraries
except Liberty and Franklin to request items from their branch.</p>
</section>
<section id="transport-cost-matrix">
<span id="transport-cost-matrix-label"></span><h3>Transport cost matrix<a class="headerlink" href="#transport-cost-matrix" title="永久链接至标题"></a></h3>
<p>The transport cost matrix lets a library system define relative costs to
transport books to one another. In order for the system to use this
matrix you must first set the
<a class="reference internal" href="circulationpreferences.html#usetransportcostmatrix"><span class="std std-ref">UseTransportCostMatrix</span></a> preference to
‘Use’.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>The transport cost matrix takes precedence in controlling where
holds are filled from, if the matrix is not used then Koha checks
the <a class="reference internal" href="circulationpreferences.html#holds-queue-system-preferences-label"><span class="std std-ref">StaticHoldsQueueWeight</span></a>.</p>
</div></blockquote>
<p>Costs are decimal values between some arbitrary maximum value (e.g. 1 or
100) and 0 which is the minimum (no) cost. For example, you could just
use the distance between each library in miles as your ‘cost’, if that
would accurately reflect the cost of transferring them. Perhaps post
offices would be a better measure. Libraries sharing a post office would
have a cost of 1, adjacent post offices would have a cost of 2, etc.</p>
<p>To enter transport costs simply click in the cell you would like to
alter, uncheck the ‘Disable’ box and enter your ‘cost’</p>
<p><img alt="image175" src="_images/transportcostmatrix.png" /></p>
<p>After entering in your cost, hit ‘Enter’ on your keyboard or click the
‘Save’ button at the bottom of the matrix to save your changes.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>A NULL value will make no difference where the From and To libraries
are the same library. However, as a best practice, you should put a
0 in there. For all other To/From combinations, a NULL value will
cause that relationship to act as if it has been disabled. So, in
summary, don’t leave any of the values empty. It’s best to always
put a number in there ( even if you choose to disable that given
To/From option ).</p>
</div></blockquote>
</section>
<section id="item-circulation-alerts">
<span id="item-circulation-alerts-label"></span><h3>Item circulation alerts<a class="headerlink" href="#item-circulation-alerts" title="永久链接至标题"></a></h3>
<p>Libraries can decide if they want to have patrons automatically notified
of circulation events (check ins and check outs).</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt; Item
circulation alerts</p></li>
</ul>
<p>These preferences are set based on patron types and item types.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>These preference can be overridden by changes in the individual
patron’s messaging preferences.</p>
</div></blockquote>
<p>To set up circulation alerts:</p>
<ul>
<li><p>Choose your library from the pull down at the top of the screen</p>
<p><img alt="image176" src="_images/librariesforalert.png" /></p>
<ul class="simple">
<li><p>To set preferences for all libraries, keep the menu set to
‘Default’</p></li>
</ul>
</li>
<li><p>By default all item types and all patrons are notified of check ins
and check outs. To change this, click on the item/patron type combo
that you would like to stop notices for.</p>
<p><img alt="image177" src="_images/alertmatrix.png" /></p>
<ul class="simple">
<li><p>In the above example, Juveniles and Kids will not receive check
out notices.</p></li>
</ul>
</li>
</ul>
</section>
<section id="cities-and-towns">
<span id="cities-and-towns-label"></span><h3>Cities and towns<a class="headerlink" href="#cities-and-towns" title="永久链接至标题"></a></h3>
<p>To standardize patron input you can define cities or towns within your
region so that when new patrons are added librarians simply have to
select the town from a list instead of having to type the town and zip
(or postal) code information.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Patrons and circulation &gt; Cities
and towns</p></li>
</ul>
<section id="adding-a-city">
<span id="adding-a-city-label"></span><h4>Adding a city<a class="headerlink" href="#adding-a-city" title="永久链接至标题"></a></h4>
<p>To add a new city, click the ‘New city’ button at the top of the page
and enter the city name, state, zip/postal code and country.</p>
<p><img alt="image178" src="_images/newcity.png" /></p>
<p>One you click Submit, your city will be saved and will be listed on the
Cities and towns page</p>
<p><img alt="image179" src="_images/cities.png" /></p>
<p>Cities can be edited or deleted at any time.</p>
</section>
<section id="viewing-cities-on-patron-add-form">
<span id="viewing-cities-on-patron-add-form-label"></span><h4>Viewing cities on patron add form<a class="headerlink" href="#viewing-cities-on-patron-add-form" title="永久链接至标题"></a></h4>
<p>If you have defined local cities using the ‘New city’ form, then when
adding or editing a patron record you will see those cities in a pull
down menu to make city selection easy.</p>
<p><img alt="image180" src="_images/patroncity.png" /></p>
<p>This will allow for easy entry of local cities into the patron record
without risking the potential for typos or mistaken zip/postal codes.</p>
</section>
</section>
</section>
<section id="accounting">
<span id="accounting-administration-label"></span><h2>Accounting<a class="headerlink" href="#accounting" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Accounting</p></li>
</ul>
<p>This section deals with the parameters used in managing the patron
accounts.</p>
<section id="debit-types">
<span id="debit-types-label"></span><h3>Debit types<a class="headerlink" href="#debit-types" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Accounting &gt; Debit types</p></li>
</ul>
<p>This is where you define the manual fees you can charge patrons.</p>
<p><img alt="image1444" src="_images/debittypes.png" /></p>
<p>When you first get to the page, you will only see the manual fees that
are already defined in your system.</p>
<p>You can see the default system fees by clicking “Show all debit types”.</p>
<p><img alt="image1445" src="_images/alldebittypes.png" /></p>
<p>You can go back to seeing only the manual fees by clicking “Filter
system debit types”.</p>
<section id="system-debit-types">
<span id="system-debit-types-label"></span><h4>System debit types<a class="headerlink" href="#system-debit-types" title="永久链接至标题"></a></h4>
<p>Several debit types come installed with Koha. Most of them are
automatic fees that are added according to the policies you set up
elsewhere in Koha.</p>
<ul class="simple">
<li><p>ACCOUNT (Account creation fee): this is charged to the patron’s
account upon registration. The fee can be changed in the
<a class="reference internal" href="#adding-a-patron-category-label"><span class="std std-ref">patron category settings</span></a>
under ‘Enrollment fee’.</p></li>
<li><p>ACCOUNT_RENEW (Account renewal fee): this is charged to the
patron’s account when their account is renewed. Like the ACCOUNT
debit type above, this can be changed in the
<a class="reference internal" href="#adding-a-patron-category-label"><span class="std std-ref">patron category settings</span></a>
under ‘Enrollment fee’.</p></li>
<li><p>LOST (Lost item): this is charged to the patron’s account when an
item in their file is declared lost. The amount depends on the
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">item’s ‘replacement cost’ field</span></a> or on
the <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type’s default replacement cost</span></a>.
It can also be added manually in the <a class="reference internal" href="patrons.html#creating-manual-invoices-label"><span class="std std-ref">manual invoices</span></a> tab.</p></li>
<li><p>MANUAL (Manual fee): this is the default manual fee installed with
Koha. This is not charged automatically by Koha, but can be added
to a patron’s account manually in the <a class="reference internal" href="patrons.html#creating-manual-invoices-label"><span class="std std-ref">manual invoices</span></a> tab.</p></li>
<li><p>NEW_CARD (New card fee): this is another default manual fee installed
with Koha. This will not be charged automatically by Koha, but can
be added to a patron’s account manually in the <a class="reference internal" href="patrons.html#creating-manual-invoices-label"><span class="std std-ref">manual invoices</span></a> tab.</p></li>
<li><p>OVERDUE (Overdue fine): this is charged automatically to the patron’s
account when they have overdue items. The amount for overdue fines are
set in the <a class="reference internal" href="#circulation-and-fines-rules-label"><span class="std std-ref">circulation and fines rules</span></a>.</p></li>
<li><p>PAYOUT (Payment from library to patron): this is used when the library
reimburses the patron (for an over payment for example).</p></li>
<li><p>PROCESSING (Lost item processing fee): this is charged automatically
to the patron’s account when an item in their file is declared lost.
The amount is set by <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type</span></a> under
‘Processing fee (when lost)’.</p></li>
<li><p>RENT (Rental fee): this is charged automatically to the patron’s
account upon checkout if the <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type</span></a>
has a rental charge.</p></li>
<li><p>RENT_DAILY (Daily rental fee): this is charged automatically to the
patron’s account upon checkout if the <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type</span></a>
has a daily rental charge.</p></li>
<li><p>RENT_DAILY_RENEW (Renewal of daily rental item): this is charged
automatically to the patron’s account upon renewal if the
<a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type</span></a> has a daily rental charge.</p></li>
<li><p>RENT_RENEW (Renewal of rental item): this is charged automatically
to the patron’s account upon renewal if the <a class="reference internal" href="#adding-item-types-label"><span class="std std-ref">item type</span></a> has a rental charge.</p></li>
<li><p>RESERVE (Hold fee): this is charged automatically to the patron’s
account upon placing a hold. The amount depends on the ‘Hold fee’
amount in the <a class="reference internal" href="#adding-a-patron-category-label"><span class="std std-ref">patron’s category</span></a>
settings.</p></li>
<li><p>RESERVE_EXPIRED (Hold waiting too long): this is charged automatically
to the patron’s account if they haven’t picked up their hold after the
number of days defined in the <a class="reference internal" href="circulationpreferences.html#expirereservesmaxpickupdelay"><span class="std std-ref">ExpireReservesMaxPickUpDelay</span></a>
system preference. The amount is set in the <a class="reference internal" href="circulationpreferences.html#expirereservesmaxpickupdelaycharge"><span class="std std-ref">ExpireReservesMaxPickUpDelayCharge</span></a>
system preference.</p></li>
</ul>
</section>
<section id="adding-a-new-debit-type">
<span id="add-debit-type-label"></span><h4>Adding a new debit type<a class="headerlink" href="#adding-a-new-debit-type" title="永久链接至标题"></a></h4>
<p>To add a new debit type:</p>
<ul>
<li><p>Click ‘New debit type’</p>
<p><img alt="image1446" src="_images/newdebittype.png" /></p>
<ul>
<li><p>Enter a code (limited to 64 letters)</p></li>
<li><p>Enter the default amount</p>
<p><strong>注释</strong></p>
<p>Staff will be able to change this amount when adding the charge
to the patron’s account, if necessary</p>
<p><strong>注释</strong></p>
<p>Do not enter currency symbols. Only write the amount with a decimal
point (for example, 5 or 5.00 instead of $5)</p>
</li>
<li><p>Write a description</p>
<p>This description will be used in the drop-down menu when adding
a new charge to a patron’s account as well as in their transaction
history</p>
</li>
<li><p>If this debit type can be added manually by staff to a patron’s
account via the <a class="reference internal" href="patrons.html#creating-manual-invoices-label"><span class="std std-ref">manual invoices</span></a>,
check the ‘Can be added manually?’ check box</p></li>
<li><p>If this debit type is only to be used in specific branches, you can
select the libraries in ‘Libraries limitation’</p>
<p><strong>注释</strong></p>
<p>You can select more than one library by pressing the ‘Ctrl’ key
while selecting.</p>
</li>
<li><p>Click ‘Save’</p></li>
</ul>
</li>
</ul>
</section>
<section id="editing-an-existing-debit-type">
<span id="edit-debit-type-label"></span><h4>Editing an existing debit type<a class="headerlink" href="#editing-an-existing-debit-type" title="永久链接至标题"></a></h4>
<p>You can only modify the debit types you have added, as well as the
‘Manual fee’.</p>
<p>To edit a debit type:</p>
<ul class="simple">
<li><p>Click the ‘Edit’ button to the right of the debit type</p></li>
<li><p>Modify any field</p></li>
<li><p>Click ‘Save’</p></li>
</ul>
</section>
<section id="archiving-a-debit-type">
<span id="archive-debit-type-label"></span><h4>Archiving a debit type<a class="headerlink" href="#archiving-a-debit-type" title="永久链接至标题"></a></h4>
<p>If there is a debit type you don’t need anymore, you can archive it.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>There is no way to delete a debit type since they are used in the
patron’s accounting section.</p>
</div></blockquote>
<p>To archive a debit type, simply click the ‘Archive’ button to the
right of the debit type.</p>
</section>
<section id="restoring-an-archived-debit-type">
<span id="restore-debit-type-label"></span><h4>Restoring an archived debit type<a class="headerlink" href="#restoring-an-archived-debit-type" title="永久链接至标题"></a></h4>
<p>If you need to use an archived debit type again, simply click on the
‘Restore’ button to the right of the debit type.</p>
<p>This will make it available again.</p>
</section>
</section>
<section id="credit-types">
<span id="credit-types-label"></span><h3>Credit types<a class="headerlink" href="#credit-types" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Accounting &gt; Credit types</p></li>
</ul>
<p>This is where you define the manual credits you can give patrons.</p>
<p>When you first get to the page, you will only see the credits that
are already defined in your system.</p>
<p>You can see the default system credit types by clicking “Show all credit types”.</p>
<p><img alt="image1475" src="_images/credittypes.png" /></p>
<p>You can go back to seeing only the manual credit types by clicking “Filter
system credit types”.</p>
<section id="system-credit-types">
<span id="system-credit-types-label"></span><h4>System credit types<a class="headerlink" href="#system-credit-types" title="永久链接至标题"></a></h4>
<p>Several credit types come installed with Koha. Most of them are
automatic credits that are added according to the policies you set up
elsewhere in Koha. They can not be deleted.</p>
<ul class="simple">
<li><p>CANCELLATION (Canceled charge): this is used when
<a class="reference internal" href="patrons.html#charging-fines-actions-label"><span class="std std-ref">cancelling a charge in a patron’s account</span></a></p></li>
<li><p>CREDIT (Credit): this is used for <a class="reference internal" href="patrons.html#creating-manual-credits-label"><span class="std std-ref">manual credits</span></a>
to give to your patrons.</p></li>
<li><p>DISCOUNT (A discount applied to a patrons fine): this is used to
<a class="reference internal" href="patrons.html#charging-fines-actions-label"><span class="std std-ref">discount fines and charges</span></a>.</p></li>
<li><p>FORGIVEN (Forgiven): this is used for <a class="reference internal" href="patrons.html#creating-manual-credits-label"><span class="std std-ref">manual credits</span></a>
to give to your patrons.</p></li>
<li><p>LOST_FOUND (Lost item fee refund): this is used when a previously
lost item is returned. If you refund the lost fees (see <a class="reference internal" href="#item-fee-refund-on-return-label"><span class="std std-ref">Default
lost item fee refund on return policy</span></a>),
this credit will be applied to refund the fee.</p></li>
<li><p>OVERPAYMENT (Over payment refund): this is automatically applied to a
patron’s account when they paid too much for a fee. This is mostly used
when backdating check-ins where the patron has already paid the full fine.</p></li>
<li><p>PAYMENT (Payment): as the name states, this is used to indicate
<a class="reference internal" href="patrons.html#pay-and-writeoff-fines-label"><span class="std std-ref">fee payments</span></a>.</p></li>
<li><p>PURCHASE (Purchase): this is used when a payment is made through
the <a class="reference internal" href="cash_management.html#point-of-sale-label"><span class="std std-ref">point of sale module</span></a>.</p></li>
<li><p>REFUND (A refund applied to a patrons fine): this is used when
<a class="reference internal" href="patrons.html#charging-fines-actions-label"><span class="std std-ref">refunding the payment of a fine or charge</span></a>.</p></li>
<li><p>WRITEOFF (Writeoff): this is used when <a class="reference internal" href="patrons.html#pay-and-writeoff-fines-label"><span class="std std-ref">writing off a fine or charge</span></a>.</p></li>
</ul>
</section>
<section id="adding-a-new-credit-type">
<span id="add-credit-type-label"></span><h4>Adding a new credit type<a class="headerlink" href="#adding-a-new-credit-type" title="永久链接至标题"></a></h4>
<p>To add a new credit type:</p>
<ul>
<li><p>Click ‘New credit type’</p>
<p><img alt="New credit type form" src="_images/newcredittype.png" /></p>
<ul>
<li><p>Enter a code (limited to 64 letters)</p></li>
<li><p>Write a description</p>
<p>This description will be used in the drop-down menu when adding
a new credit to a patron’s account as well as in their transaction
history</p>
</li>
<li><p>If this credit type can be added manually by staff to a patron’s
account via the <a class="reference internal" href="patrons.html#creating-manual-credits-label"><span class="std std-ref">manual credit</span></a>,
check the ‘Can be added manually?’ check box</p></li>
<li><p>If you need this credit type to be sequentially numbered, check the
‘Enable credit number’. The format of the number is defined in the
<a class="reference internal" href="accountspreferences.html#autocreditnumber"><span class="std std-ref">AutoCreditNumber</span></a> system preference.</p></li>
<li><p>If this credit type is only to be used in specific branches, you can
select the libraries in ‘Libraries limitation’</p>
<p><strong>注释</strong></p>
<p>You can select more than one library by pressing the ‘Ctrl’ key
while selecting.</p>
</li>
<li><p>Click ‘Save’</p></li>
</ul>
</li>
</ul>
</section>
<section id="editing-an-existing-credit-type">
<span id="edit-credit-type-label"></span><h4>Editing an existing credit type<a class="headerlink" href="#editing-an-existing-credit-type" title="永久链接至标题"></a></h4>
<p>You can only modify the credit types you have added.</p>
<p>To edit a credit type:</p>
<ul class="simple">
<li><p>Click the ‘Edit’ button to the right of the credit type</p></li>
<li><p>Modify any field</p></li>
<li><p>Click ‘Save’</p></li>
</ul>
</section>
<section id="archiving-a-credit-type">
<span id="archive-credit-type-label"></span><h4>Archiving a credit type<a class="headerlink" href="#archiving-a-credit-type" title="永久链接至标题"></a></h4>
<p>If there is a credit type you don’t need anymore, you can archive it.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>There is no way to delete a credit type since they are used in the
patron’s accounting section.</p>
</div></blockquote>
<p>To archive a credit type, simply click the ‘Archive’ button to the
right of the credit type.</p>
</section>
<section id="restoring-an-archived-credit-type">
<span id="restore-credit-type-label"></span><h4>Restoring an archived credit type<a class="headerlink" href="#restoring-an-archived-credit-type" title="永久链接至标题"></a></h4>
<p>If you need to use an archived credit type again, simply click on the
‘Restore’ button to the right of the credit type.</p>
<p>This will make it available again.</p>
</section>
</section>
<section id="cash-registers">
<span id="cashregisters-label"></span><h3>Cash registers<a class="headerlink" href="#cash-registers" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Accounting &gt; Cash registers</p></li>
</ul>
<p>This feature is enabled through the <a class="reference internal" href="accountspreferences.html#usecashregisters"><span class="std std-ref">UseCashRegisters</span></a> system preference.</p>
<p>If you have no cash registers already defined, you will be invited to create
one.</p>
<p>Otherwise, you will see the list of all your cash registers.</p>
<p><img alt="image1450" src="_images/cashregisters.png" /></p>
<p>In the ‘Actions’ columns, you can choose to edit your cash registers, make one
of them default or remove the default status, and archive or restore an
archived register.</p>
<p>The default status is only useful in libraries that have more than one register
per branch. The default register will be pre-selected when <a class="reference internal" href="patrons.html#pay-and-writeoff-fines-label"><span class="std std-ref">entering a
payment</span></a>. If there is only one cash register per
branch, the branch’s cash register will be selected when paying.</p>
<section id="adding-a-new-cash-register">
<span id="addnewcashregister-label"></span><h4>Adding a new cash register<a class="headerlink" href="#adding-a-new-cash-register" title="永久链接至标题"></a></h4>
<ul>
<li><p>Click on ‘New cash register’</p>
<p><img alt="image1449" src="_images/addcashregister.png" /></p>
</li>
<li><p>Give your cash register a name</p></li>
<li><p>Optionally you can also add a description</p></li>
<li><p>Choose in which library this cash register is located</p></li>
<li><p>And finally, enter the initial float, i.e. the amount in the cash register</p></li>
<li><p>Click ‘Add’</p></li>
</ul>
</section>
</section>
</section>
<section id="catalog-administration">
<span id="catalog-administration-label"></span><h2>Catalog administration<a class="headerlink" href="#catalog-administration" title="永久链接至标题"></a></h2>
<p>Set these controls before you start cataloging on your Koha system.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog</p></li>
</ul>
<section id="marc-bibliographic-frameworks">
<span id="marc-bibliographic-frameworks-label"></span><h3>MARC bibliographic frameworks<a class="headerlink" href="#marc-bibliographic-frameworks" title="永久链接至标题"></a></h3>
<p>Think of frameworks as templates for creating new bibliographic records.
Koha comes with some predefined frameworks that can be edited or
deleted, and librarians can create their own frameworks for content
specific to their libraries.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; MARC bibliographic
frameworks</p></li>
</ul>
<p><img alt="image181" src="_images/frameworks.png" /></p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>Do not delete or edit the Default framework since this will cause
problems with your cataloging records - always create a new template
based on the Default framework, or alter the other frameworks.</p>
</div></blockquote>
<section id="add-new-framework">
<span id="add-new-framework-label"></span><h4>Add new framework<a class="headerlink" href="#add-new-framework" title="永久链接至标题"></a></h4>
<p>To add a new framework</p>
<ul>
<li><p>Click ‘New framework’</p>
<p><img alt="image183" src="_images/addframework.png" /></p>
<ul class="simple">
<li><p>Enter a code of 4 or fewer characters</p></li>
<li><p>Use the Description field to enter a more detailed definition of
your framework</p></li>
</ul>
</li>
<li><p>Click ‘Submit’</p></li>
<li><p>Once your framework is added click Actions then ‘MARC structure’ to the right of
it on the list of frameworks</p>
<p><img alt="image184" src="_images/startnewframework.png" /></p>
<ul class="simple">
<li><p>You will be asked to choose a framework to base your new framework
on, this will make it easier than starting from scratch</p></li>
</ul>
</li>
<li><p>Once your framework appears on the screen you can edit or delete each
field by following the instructions for <a class="reference internal" href="#edit-framework-fields-and-subfields-label"><span class="std std-ref">editing fields and
subfields</span></a></p></li>
</ul>
</section>
<section id="edit-existing-frameworks">
<span id="edit-existing-frameworks-label"></span><h4>Edit existing frameworks<a class="headerlink" href="#edit-existing-frameworks" title="永久链接至标题"></a></h4>
<p>Clicking Actions and then ‘Edit’ to the right of a framework will only allow you to edit
the description for the framework:</p>
<p><img alt="image185" src="_images/editframework.png" /></p>
</section>
<section id="edit-framework-fields-and-subfields">
<span id="edit-framework-fields-and-subfields-label"></span><h4>Edit framework fields and subfields<a class="headerlink" href="#edit-framework-fields-and-subfields" title="永久链接至标题"></a></h4>
<p>Frameworks are made up of MARC fields (tags) and subfields.  To make edits to the fields and subfields
associated with the framework you must click on ‘Actions’ and then ‘MARC structure’.</p>
<section id="edit-a-marc-field-tag">
<span id="edit-a-marc-field-label"></span><h5>Edit a MARC field (tag)<a class="headerlink" href="#edit-a-marc-field-tag" title="永久链接至标题"></a></h5>
<p>After clicking on ‘MARC structure’ you will be taken to a screen listing all the available tags for that framework and you can search for the tag you need. To make edits to a MARC <strong>field</strong> click on ‘Actions’ on the right of the field then ‘Edit tag’.</p>
<p><img alt="image189" src="_images/editfield.png" /></p>
<p>The next screen shows details of the tag.</p>
<ul>
<li><p>Each field has a tag (which is the MARC tag) that is uneditable</p></li>
<li><p>The ‘Label for lib’ is what will show in the staff interface if you have
<a class="reference internal" href="catalogingpreferences.html#advancedmarceditor"><span class="std std-ref">advancedMARCeditor</span></a> set to display labels</p></li>
<li><p>The ‘Label for OPAC’ is what will show on the MARC view in the OPAC</p></li>
<li><p>If you check ‘Repeatable’ then the field will have an icon next to it
allowing you to add multiples of that tag</p></li>
<li><p>If you check ‘Mandatory’ the record cannot be saved unless the field has a
value. A ‘Required’ flag will display as a prompt</p></li>
<li><p>If you check ‘Important’, the field will generate a warning if it is not
filled, but unlike ‘Mandatory’, you will still be able to save your record
nonetheless</p></li>
<li><p>If you add default values for indicators here these will be pre-filled to
save time when cataloging but can still be edited if required</p></li>
<li><p>‘Authorized value’ is where you define an <a class="reference internal" href="#authorized-values-label"><span class="std std-ref">authorized value</span></a> pull down list for your catalogers</p>
<p><strong>注释</strong></p>
<p>The authorized value option at field level does not work.</p>
</li>
</ul>
</section>
<section id="edit-a-marc-subfield">
<span id="edit-a-marc-subfield-label"></span><h5>Edit a MARC subfield<a class="headerlink" href="#edit-a-marc-subfield" title="永久链接至标题"></a></h5>
<p>To edit the <strong>subfields</strong> associated with the tag, click ‘Actions’ then ‘Edit
subfields’ to the right of the tag on the framework field list. Each subfield
has its own tab which contains three sections - Basic constraints, Advanced
constraints and Other options.</p>
<ul>
<li><p>For each subfield you can set the following basic constraint options</p>
<p><img alt="Subfield editing form" src="_images/editsubfield.png" /></p>
<ul>
<li><p>Subfield code: this is the MARC subfield code, this wouldn’t normally be
changed</p></li>
<li><p>Text for librarian: what appears before the subfield in the staff
interface</p></li>
<li><p>Text for OPAC: what appears before the field in the OPAC</p>
<blockquote>
<div><ul class="simple">
<li><p>If left empty, the text for librarian is used instead</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Repeatable: the field will have an icon next to it allowing you to add
multiples of the subfield</p></li>
<li><p>Mandatory: the record cannot be saved unless you have a value assigned
to this subfield. A ‘Required’ flag will display as a prompt</p></li>
<li><p>Important: this indicates that a field is not mandatory, but important.
If you try to save a record where an important field is empty, you will
get a warning, but the record will still be saved.</p></li>
<li><p>Managed in tab: defines the tab where the subfield is shown.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>All subfields of a given field must be in the same tab or ignored.
Ignore means that the subfield is not managed.</p>
<p><strong>重要</strong></p>
<p>When <a class="reference internal" href="tools.html#stage-marc-records-for-import-label"><span class="std std-ref">importing records</span></a>,
subfields that are managed in tab ‘ignore’ will be deleted. If you
still wish to keep the subfields, but hide them, use the ‘Visibility’
options below.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>For each subfield you can set the following advanced constraint options</p>
<ul>
<li><p>Default value: defines what you want to appear in the field by default,
this will be editable, but it saves time if you use the same text over
and over or the same value in a field often.</p>
<p><strong>注释</strong></p>
<p>There are several values that you can use here that will be replaced
automatically when a new record is created:</p>
<ul class="simple">
<li><p>&lt;&lt;MM&gt;&gt; - the current month, 2 digits</p></li>
<li><p>&lt;&lt;DD&gt;&gt; - the current day of month, 2 digits</p></li>
<li><p>&lt;&lt;YYYY&gt;&gt; - the current year, 4 digits</p></li>
<li><p>&lt;&lt;USER&gt;&gt; - the username of the currently logged in user</p></li>
</ul>
<p>For example: a default of “&lt;&lt;MM&gt;&gt;/&lt;&lt;DD&gt;&gt;/&lt;&lt;YYYY&gt;&gt;”
(without quotes) will print the current date in the form of
“01/21/2021”</p>
</li>
<li><p>Visibility: allows you to select from where this subfield is
visible/hidden, simply check the boxes where you would like the
field to show and uncheck the boxes where you would like it
hidden.</p>
<p><strong>注释</strong></p>
<p>The Editor checkbox controls whether this subfield will display within
cataloging editor for this framework. If you check Collapsed the
subfield will be hidden in the editor but will be displayed if
the field label is clicked to expand all subfields</p>
<p><img alt="CLose up of visibility options in the Advanced constraints" src="_images/frameworkvisibility.png" /></p>
</li>
<li><p>Is a URL: if checked, it means that the subfield is a URL and can be
clicked</p></li>
<li><p>Link: if you enter an index name here, a link appears after
the subfield in the MARC detail view in the staff interface.
If the librarian clicks on the link, a catalog search is done using
the index and the content of the subfield.</p></li>
<li><p>Koha link: this field is used to create a link between the MARC subfield
and a column in the items, biblioitems and biblio database
tables. Whenever a record is added or changed, this mapping
will be used to update the linked database column. The information
from the database columns is used as a way to quickly look up
important information without having to parse the full MARC record.
It is used for displaying information in a lot of pages and can
also be used in reports.</p>
<p>It is possible to map multiple MARC subfields to the same database
column. The first existing mapped subfield will be saved into the
database. Usage example: For a MARC21 installaton with both RDA and AACR2
records where some records store the publication data
in 260 and others in 264 both fields can be mapped to the database
columns for publisher, publication date and publication year.</p>
<p>The mappings can be changed on this page or from the
<a class="reference internal" href="#koha-to-marc-mapping-label"><span class="std std-ref">Koha to MARC mapping</span></a> page.</p>
<p><strong>Warning</strong></p>
<p>The Koha links should not be changed after data has been added to
your catalog. If you need to change or improve them, you must ask
your system administrator to run misc/batchRebuildBiblioTables.pl.
This will update the values in the database columns for all your
records.</p>
</li>
</ul>
</li>
<li><p>For each subfield you can set the following Other option values</p>
<ul>
<li><p>Authorized value: means the value cannot by typed, but must be
chosen from a pull down generated by the <a class="reference internal" href="#authorized-values-label"><span class="std std-ref">authorized
value</span></a> list</p>
<p>In the example above, the 504a field will show the MARC504
authorized values when cataloging</p>
<p><img alt="Example of a MARC framework where an authorised value was added in 504$a, this creates a drop-down menu in the editor" src="_images/504auth.png" /></p>
</li>
<li><p>Thesaurus: means that the value is not free text, but must be searched in
the authority/thesaurus of the selected category</p></li>
<li><p>Plugin: means the value is calculated or managed by a plugin. Plugins
can do almost anything.</p>
<ul class="simple">
<li><p>Examples:</p>
<ul>
<li><p>For call numbers there is an option to add a call number
browser next to the the call number subfield so that you can
identify which call numbers are in use and which are not.
Simply choose the cn_browser.pl plugin. Learn more in the
<a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">cataloging section</span></a> of this manual.</p></li>
<li><p>If you’d like to let file uploads via cataloging you can
choose the upload.pl plugin and this will allow you to
<a class="reference internal" href="cataloging.html#attaching-files-to-records-label"><span class="std std-ref">upload files to Koha to link to your
records</span></a>.</p></li>
<li><p>In UNIMARC there are plugins for every 1xx fields that are
coded fields. The plugin is a huge help for cataloger! There
are also two plugins (unimarc_plugin_210c and
unimarc_plugin_225a that can “magically” find the editor
from an ISBN, and the collection list for the editor)</p></li>
<li><p>If you would like to enable an autocomplete search for publishers
in 260b and 264b you can set the plugin to marc21_field_260b.pl.  When you start
typing in a publisher name you will be given search results based on publisher
names already in the catalog.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>To save your changes simply click the ‘Save changes’.</p></li>
</ul>
</section>
</section>
<section id="add-fields-to-frameworks">
<span id="add-fields-to-frameworks-label"></span><h4>Add fields to frameworks<a class="headerlink" href="#add-fields-to-frameworks" title="永久链接至标题"></a></h4>
<p>If a framework doesn’t contain a field that you require you may need to add it.
To add a field to a framework click the ‘New tag’ button at the top of
the framework definition</p>
<p><img alt="image186" src="_images/newtag.png" /></p>
<p>This will open up a blank form for entering MARC field data</p>
<p><img alt="image187" src="_images/newtagform.png" /></p>
<p>Enter the information about your new tag:</p>
<ul>
<li><p>The ‘Tag’ is the MARC field number</p></li>
<li><p>The ‘Label for lib’ is the text that will appear in the staff interface
when in the cataloging module</p></li>
<li><p>The ‘Label for OPAC’ is the text that will appear in the OPAC when
viewing the MARC version of the record</p></li>
<li><p>If this field can be repeated, check the ‘Repeatable’ box</p></li>
<li><p>If this field is mandatory, check the ‘Mandatory’ box</p></li>
<li><p>If this field is not mandatory but is important, check the ‘Important’ box</p>
<ul class="simple">
<li><p>If the important field is not filled upon saving the record, there will
be a warning, but the user will still be able to save the record</p></li>
</ul>
</li>
<li><p>You can enter default values for indicators in the ‘First indicator default
value’ and ‘Second indicator default value’ field</p></li>
<li><p>If you want this field to be a pull down with limited possible
answers, choose which ‘Authorized value’ list you want to use</p>
<p><strong>注释</strong></p>
<p>The authorized value option at field level does not work.</p>
</li>
</ul>
<p>When you’re finished, click ‘Save changes’ and your new tag will be displayed
in the framework field list.</p>
<p><img alt="image188" src="_images/subfieldslink.png" /></p>
<p>You will need to add at least one subfield to your new tag before it will appear
in your framework when you are cataloging.</p>
<p>Click on the ‘Actions’ button for your new tag and then ‘Edit subfields’.  Click on the ‘New’ tab and enter your
subfield code.  The process for entering the remainder of the settings for the new subfield
is the same as those found in the <a class="reference internal" href="#edit-framework-fields-and-subfields-label"><span class="std std-ref">editing fields and subfields in
frameworks</span></a> section of this manual.</p>
</section>
<section id="import-export-frameworks">
<span id="import-export-frameworks-label"></span><h4>Import/export frameworks<a class="headerlink" href="#import-export-frameworks" title="永久链接至标题"></a></h4>
<p>Next to each framework is a link to either import or export the
framework.</p>
<section id="export-framework">
<span id="export-framework-label"></span><h5>Export framework<a class="headerlink" href="#export-framework" title="永久链接至标题"></a></h5>
<p>To export a framework simply click the ‘Export’ link to the right of
framework title.</p>
<p><img alt="image195" src="_images/importexport.png" /></p>
<p>When you click ‘Export’ you will be prompted to choose what format to
export the file in.</p>
<p><img alt="image196" src="_images/exportoptions.png" /></p>
<p>A framework exported this way can be imported into any other Koha
installation using the import framework option.</p>
</section>
<section id="import-framework">
<span id="import-framework-label"></span><h5>Import framework<a class="headerlink" href="#import-framework" title="永久链接至标题"></a></h5>
<p>An easy way to create a new framework is to import one created for your
or another Koha installation. This framework would need to be exported
from the other system <a class="reference internal" href="#export-framework-label"><span class="std std-ref">using the instructions
above</span></a> to be available for import here.</p>
<p>To import a framework you first need to create <a class="reference internal" href="#add-new-framework-label"><span class="std std-ref">a new
framework</span></a>. Once you have that framework, click
Actions then ‘Import’ to the right of the new framework.</p>
<p><img alt="image197" src="_images/importexport.png" /></p>
<p>You will be prompted to find a file on your computer to import into the
framework.</p>
<p><img alt="image198" src="_images/importfile.png" /></p>
<p>You will be asked to confirm your actions before the file is imported.</p>
<p><img alt="image199" src="_images/importconfirm.png" /></p>
<p>As your file is uploaded you will see an image that will confirm that
the system is working.</p>
<p><img alt="image200" src="_images/importtimer.png" /></p>
<p>Once your import is complete you will be brought to the framework edit
tool where you can make any changes you need to the framework you
imported.</p>
</section>
</section>
</section>
<section id="koha-to-marc-mapping">
<span id="koha-to-marc-mapping-label"></span><h3>Koha to MARC mapping<a class="headerlink" href="#koha-to-marc-mapping" title="永久链接至标题"></a></h3>
<p>While Koha stores the entire MARC record, it also stores common fields
for easy access in various tables in the database. Koha to MARC mapping
is used to tell Koha where to find these values in the MARC record. In
many cases you will not have to change the default values set by in this
tool on installation, but it is important to know that the tool is here
and can be used at any time.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; Koha to MARC mapping</p></li>
</ul>
<p>The table shows all the database fields that can be mapped to MARC fields.</p>
<p><img alt="image201" src="_images/kohamarcmapping.png" /></p>
<p>To add a new mapping, click on the ‘Add’ button to the right of the
appropriate field.</p>
<p><img alt="image202" src="_images/mapmarc.png" /></p>
<p>Write in the MARC field and subfield you would like to map, separated
by a comma, to this Koha field and click the ‘OK’ button.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>It is possible to link more than one MARC field to a database field.
For example, you could link both 260$a and 264$a to the biblioitems.place
field.</p>
</div></blockquote>
<p>If you would like to clear the mapping for a database field, click
the ‘Remove’ button.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>All changes are immediate.</p>
</div></blockquote>
</section>
<section id="marc-bibliographic-framework-test">
<span id="marc-bibliographic-framework-test-label"></span><h3>MARC bibliographic framework test<a class="headerlink" href="#marc-bibliographic-framework-test" title="永久链接至标题"></a></h3>
<p>Checks the MARC structure.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; MARC bibliographic
framework test</p></li>
</ul>
<p>If you change your MARC bibliographic framework it’s recommended that
you run this tool to test for errors in your definition.</p>
<p><img alt="image206" src="_images/frameworktest.png" /></p>
</section>
<section id="authority-types">
<span id="authority-types-label"></span><h3>Authority types<a class="headerlink" href="#authority-types" title="永久链接至标题"></a></h3>
<p>Authority types are basically MARC frameworks for authority records and
because of that they follow the same editing rules found in the <a class="reference internal" href="#marc-bibliographic-frameworks-label"><span class="std std-ref">MARC
bibliographic frameworks</span></a> section of this manual.
Koha comes with many of the necessary authority frameworks already
installed. To learn how to add and edit authority types, simply review
the <a class="reference internal" href="#marc-bibliographic-frameworks"><span class="std std-ref">MARC bibliographic frameworks</span></a> section of this manual.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; Authority types</p></li>
</ul>
</section>
<section id="classification-sources">
<span id="classification-sources-label"></span><h3>Classification sources<a class="headerlink" href="#classification-sources" title="永久链接至标题"></a></h3>
<p>Source of classification or shelving scheme are mapped to field 952$2 and
942$2 in Koha’s <a class="reference internal" href="#marc-bibliographic-frameworks-label"><span class="std std-ref">MARC bibliographic frameworks</span></a>
and stored in the items.cn_source and biblioitems.cn_source fields in the
database.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; Classification sources</p></li>
</ul>
<p><img alt="Classification sources, classification filing rules and classification splitting rules tables" src="_images/classsources.png" /></p>
<p>Commonly used classification sources are:</p>
<ul class="simple">
<li><p>ddc - Dewey Decimal Classification</p></li>
<li><p>lcc - Library of Congress Classification</p></li>
</ul>
<p>If you chose to install classification sources during Koha’s
installation, you would see other values too:</p>
<ul class="simple">
<li><p>ANSCR (sound recordings)</p></li>
<li><p>SuDOC classification</p></li>
<li><p>Universal Decimal Classification</p></li>
<li><p>Other/Generic Classification</p></li>
</ul>
<section id="adding-editing-classification-sources">
<span id="adding-editing-classification-sources-label"></span><h4>Adding/editing classification sources<a class="headerlink" href="#adding-editing-classification-sources" title="永久链接至标题"></a></h4>
<p>You can add your own source of classification by using the ‘New classification
source’ button. To edit use the ‘Edit’ button.</p>
<p><img alt="Form to add a new classification source" src="_images/addclasssource.png" /></p>
<p>When creating or editing:</p>
<ul class="simple">
<li><p>Enter a code. The code is limited to 10 characters and must be unique.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The code is not editable once it has been created.</p>
</div>
<ul class="simple">
<li><p>Enter a description. The description is used in the drop-down lists in the
cataloging module.</p></li>
<li><p>Check the ‘Source in use?’ checkbox if you want the value to appear
in the drop-down list for this category.</p></li>
<li><p>Select the appropriate <a class="reference internal" href="#classification-filing-rules-label"><span class="std std-ref">filing rule</span></a>
from the drop-down list.</p></li>
<li><p>Select the appropriate <a class="reference internal" href="#classification-splitting-rules-label"><span class="std std-ref">splitting rule</span></a>
from the drop-down list.</p></li>
</ul>
</section>
<section id="classification-filing-rules">
<span id="classification-filing-rules-label"></span><h4>Classification filing rules<a class="headerlink" href="#classification-filing-rules" title="永久链接至标题"></a></h4>
<p>Filing rules determine the order in which items are placed on shelves. Filing
rules normalize call numbers in order for Koha to be able to compare them and
sort them in the right order.</p>
<p>For example, a Dewey call number such as ‘636.8/07 SHAW’ will become
‘636_800000000000000_07_SHAW’ in order to be sorted.</p>
<p>The sorted call number is saved in the items.cn_sort or biblioitems.cn_sort
fields in the database</p>
<p>Values that are pre-configured in Koha are:</p>
<ul class="simple">
<li><p>Dewey</p></li>
<li><p>LCC</p></li>
<li><p>Generic</p></li>
</ul>
<p>Filing rules are mapped to
<a class="reference internal" href="#adding-editing-classification-sources-label"><span class="std std-ref">Classification sources</span></a>.
You can setup new filing rules by using the ‘New filing rule’ button. To edit,
use the ‘Edit’ button.</p>
<p>When creating or editing:</p>
<ul class="simple">
<li><p>Enter a code. The code is limited to 10 characters and must be unique.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The code is not editable once it has been created.</p>
</div>
<ul class="simple">
<li><p>Enter a description. The description is used in the drop-down list when
<a class="reference internal" href="#adding-editing-classification-sources-label"><span class="std std-ref">creating or editing a classification source</span></a>.</p></li>
<li><p>Choose an appropriate filing routine - dewey, generic or lcc</p>
<ul>
<li><p>The Dewey filing routine generates a sorted call number by following
these rules:</p>
<ul>
<li><p>Concatenates classification and item parts.</p></li>
<li><p>Converts to uppercase.</p></li>
<li><p>Removes any leading or trailing white spaces, and forward slashes (/)</p></li>
<li><p>Separates alphabetic prefix from the rest of the call number</p></li>
<li><p>Splits into tokens on white spaces and periods.</p></li>
<li><p>Leaves first digit group as is.</p></li>
<li><p>Converts second digit group to 15-digit long group, padded on right
with zeroes.</p></li>
<li><p>Converts each whitespace to an underscore.</p></li>
<li><p>Removes any remaining non-alphabetical, non-numeric, non-underscore
characters.</p></li>
</ul>
</li>
<li><p>The generic filing routine generates a sorted call number by following
these rules:</p>
<ul>
<li><p>Concatenates classification and item parts.</p></li>
<li><p>Removes any leading or trailing white spaces.</p></li>
<li><p>Converts each whitespace to an underscore.</p></li>
<li><p>Converts to uppercase.</p></li>
<li><p>Removes non-alphabetical, non-numeric, non-underscore characters.</p></li>
</ul>
</li>
<li><p>The LCC filing routine generates a sorted call number by following
these rules:</p></li>
</ul>
</li>
</ul>
</section>
<section id="classification-splitting-rules">
<span id="classification-splitting-rules-label"></span><h4>Classification splitting rules<a class="headerlink" href="#classification-splitting-rules" title="永久链接至标题"></a></h4>
<p>Splitting rules determine how call numbers are split when printed on a spine
label.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Splitting rules are only used if your <a class="reference internal" href="tools.html#label-layouts-label"><span class="std std-ref">label layout</span></a>
specifies to split call numbers.</p>
</div>
<p>For example, a Dewey call number such as ‘636.8/07 SHAW’ will become</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">636.807</span>
<span class="n">SHAW</span>
</pre></div>
</div>
<p>once printed on a spine label.</p>
<p>Values that are pre-configured in Koha are:</p>
<ul class="simple">
<li><p>Dewey</p></li>
<li><p>LCC</p></li>
<li><p>Generic</p></li>
</ul>
<p>Splitting rules are mapped to
<a class="reference internal" href="#adding-editing-classification-sources-label"><span class="std std-ref">Classification sources</span></a>.
You can setup new splitting rules by using the ‘New splitting rule’ button. To
edit, use the ‘Edit’ button.</p>
<p>When creating or editing:</p>
<ul class="simple">
<li><p>Enter a code. The code is limited to 10 characters and must be unique.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>The code is not editable once it has been created.</p>
</div>
<ul>
<li><p>Enter a description. The description is used in the drop-down list when
<a class="reference internal" href="#adding-editing-classification-sources-label"><span class="std std-ref">creating or editing a classification source</span></a>.</p></li>
<li><p>Choose an appropriate splitting routine - Dewey, Generic, LCC or RegEx</p>
<ul>
<li><p>The Dewey splitting routine looks for the three digits and the decimal,
puts it on one line with the other parts (Cutter, prefix, etc.) each on
a separate line (generally split on spaces).</p></li>
<li><p>The Generic splitting routine splits on spaces.</p></li>
<li><p>The LCC splitting routine puts each component on a separate line.</p></li>
<li><p>The RegEx splitting routine allows you to create a custom splitting
routine.</p>
<ul>
<li><p>Some examples of RegEx splitting routines:</p>
<ul>
<li><p>Split on spaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">/</span>\<span class="n">s</span><span class="o">/</span>\<span class="n">n</span><span class="o">/</span><span class="n">g</span>
</pre></div>
</div>
</li>
<li><p>Split on equal signs (=):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>s/(\s?=)/\n=/g
</pre></div>
</div>
</li>
<li><p>Split on forward slashes (/):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>s/(\s?\/)/\n/g
</pre></div>
</div>
</li>
<li><p>Remove first split if call number starts with J or K:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>s/^(J|K)\n/$1 /
</pre></div>
</div>
</li>
<li><p>Cut after 9 characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>s/(^.{9})/$1\n/
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>It is possible to mix and match RegEx splitting routines by clicking the
‘New’ link just under the RegEx input box.</p>
<p>For example, if you want to cut after nine characters AND split on spaces,
you can write both and the call number ‘971.42805092 C669r’ will be split</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">971.42805</span>
<span class="mi">092</span>
<span class="n">C669r</span>
</pre></div>
</div>
<p><img alt="The example above shown in the interface" src="_images/multipleregexsplittingrule.png" /></p>
</section>
</section>
<section id="record-matching-rules">
<span id="record-matching-rules-label"></span><h3>Record matching rules<a class="headerlink" href="#record-matching-rules" title="永久链接至标题"></a></h3>
<p>Record matching rules are used when importing MARC records into Koha.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Catalog &gt; Record matching rules</p></li>
</ul>
<p>The rules that you set up here will be referenced with you <a class="reference internal" href="tools.html#stage-marc-records-for-import-label"><span class="std std-ref">Stage MARC
records for import</span></a>.</p>
<p>It is important to understand the difference between ‘Match points’ and
‘Match checks’ before adding new matching rules to Koha.</p>
<p>Match points are the criteria that you enter that must be met in order
for an incoming record to match an existing MARC record in your catalog.
You can have multiple match points on an import rule each with its own
score. An incoming record will be compared against your existing records
(‘one record at a time’) and given a score for each match point. When
the total score of the match points matches or exceeds the threshold
given for the matching rule, Koha assumes a good match and
imports/overlays according your specifications in the import process. An
area to watch out for here is the sum of the match points. Double check
that the matches you want will add up to a successful match.</p>
<p>Example:</p>
<p>Threshold of 1000</p>
<p>Match point on 020$a 1000</p>
<p>Match point on 022$a 1000</p>
<p>Match point on 245$a 500</p>
<p>Match point on 100$a 100</p>
<p>In the example above, a match on either the 020$a or the 022$a will
result in a successful match. A match on 245$a title and 100$a author
(and not on 020$a or 022$a) will only add up to 600 and not be a match.
And a match on 020$a and 245$a will result in 1500 and while this is a
successful match, the extra 500 point for the 245$a title match are
superfluous. The incoming record successfully matched on the 020$a
without the need for the 245$a match. However, if you assigned a score
of 500 to the 100$a Match Point, a match on 245$a title and 100$a author
will be considered a successful match (total of 1000) even if the 020$a
is not a match.</p>
<p>Match checks are not commonly used in import rules. However, they can
serve a couple of purposes in matching records. First, match checks can
be used as the matching criteria instead of the match points if your
indexes are stale and out of date. The match checks go right for the
data instead of relying on the data in the indexes. (If you fear your
indexes are out of date, a rebuild of your indexes would be a great idea
and solve that situation!) The other use for a match check is as a
‘double check’ or ‘veto’ of your matching rule. For example, if you have
a matching rule as below:</p>
<p>Threshold of 1000</p>
<p>Match point on 020$a 1000</p>
<p>Match check on 245$a</p>
<p>Koha will first look at the 020$a tag/subfield to see if the incoming
record matches an existing record. If it does, it will then move on to
the Match Check and look directly at the 245$a value in the incoming
data and compare it to the 245$a in the existing ‘matched’ record in
your catalog. If the 245$a matches, Koha continues on as if a match was
successful. If the 245$a does not match, then Koha concludes that the
two records are not a match after all. The Match Checks can be a really
useful tool in confirming true matches.</p>
<p>When looking to create matching rules for your authority records the
following indexes will be of use:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 57%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Index name</p></th>
<th class="head"><p>Matches MARC tag</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LC-cardnumber</p></td>
<td><p>010$a</p></td>
</tr>
<tr class="row-odd"><td><p>Personal-name</p></td>
<td><p>100$a</p></td>
</tr>
<tr class="row-even"><td><p>Corporate-name-heading</p></td>
<td><p>110$a</p></td>
</tr>
<tr class="row-odd"><td><p>Meeting-name</p></td>
<td><p>111$a</p></td>
</tr>
<tr class="row-even"><td><p>Title-uniform</p></td>
<td><p>130$a</p></td>
</tr>
<tr class="row-odd"><td><p>Chronological-term</p></td>
<td><p>148$a</p></td>
</tr>
<tr class="row-even"><td><p>Subject-topical</p></td>
<td><p>150$a</p></td>
</tr>
<tr class="row-odd"><td><p>Name-geographic</p></td>
<td><p>151$a</p></td>
</tr>
<tr class="row-even"><td><p>Term-genre-form</p></td>
<td><p>155$a</p></td>
</tr>
</tbody>
</table>
<p>Table: Authority indexes</p>
<section id="adding-matching-rules">
<span id="adding-matching-rules-label"></span><h4>Adding matching rules<a class="headerlink" href="#adding-matching-rules" title="永久链接至标题"></a></h4>
<p>To create a new matching rule :</p>
<ul>
<li><p>Click ‘New record matching rule’</p>
<p><img alt="image209" src="_images/newmatchrule.png" /></p>
<ul class="simple">
<li><p>Choose a unique name and enter it in the ‘Matching rule code’
field</p></li>
<li><p>‘Description’ can be anything you want to make it clear to you
what rule you’re picking</p></li>
<li><p>‘Match threshold’ is the total number of ‘points’ a biblio must
earn to be considered a ‘match’</p></li>
<li><p>‘Record type’ is the type of import this rule will be used for -
either authority or bibliographic</p></li>
<li><p>Match points are set up to determine what fields to match on</p></li>
<li><p>‘Search index’ can be found by looking at the index configuration
on your system. For Zebra you might find the right index names
in your ccl.properties file. You can also find useful information in
the <a class="reference internal" href="searching.html#koha-search-indexes"><span class="std std-ref">Koha search indexes</span></a> chapter of this manual.</p></li>
<li><p>‘Score’ - The number of ‘points’ a match on this field is worth.
If the sum of each score is equal or greater than the match threshold, the
incoming record is a match to the existing record.</p></li>
<li><p>Enter the MARC tag you want to match on in the ‘Tag’ field.</p></li>
<li><p>Enter the MARC tag subfield you want to match on in the
‘Subfields’ field. For matching on controlfields like 001 the subfields
input field can be left empty.</p></li>
<li><p>‘Offset’ - For use with control fields, 001-009</p></li>
<li><p>‘Length’ - For use with control fields, 001-009</p></li>
<li><p>There are currently several options for ‘Normalization rules’:</p>
<ul>
<li><p>None - no normalization rule will be applied</p></li>
<li><p>Remove spaces</p></li>
<li><p>Uppercase</p></li>
<li><p>Lowercase</p></li>
<li><p>Legacy default - this option was added to maintain the behavior
form before the other normalization rules became available.</p></li>
<li><p>ISBN - using this option will improve matching on ISBN. If your
incoming records ISBN fields contain extra text, like
‘9780670026623 (alk. paper)’, they will still match correctly.</p></li>
</ul>
</li>
<li><p>‘Required match checks’ - While match points work on the search
index, match checks work directly on the data and can be used
as the matching criteria instead of the match points or in addition
to them to confirm true matches.</p></li>
</ul>
</li>
</ul>
</section>
<section id="sample-bibliographic-record-matching-rule-control-number">
<span id="sample-bibliographic-record-matching-rule-control-number-label"></span><h4>Sample bibliographic record matching rule: Control number<a class="headerlink" href="#sample-bibliographic-record-matching-rule-control-number" title="永久链接至标题"></a></h4>
<p><img alt="image210" src="_images/samplematchrule.png" /></p>
<ul>
<li><p>Match threshold: 100</p></li>
<li><p>Record type: Bibliographic</p>
<ul>
<li><p><strong>注释</strong></p>
<blockquote>
<div><p>If you’d like a rule to match on the 001 in authority records
you will need the repeat all of these values and change just
the record type to ‘Authority record’</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Matchpoints (just the one):</p></li>
<li><p>Search index: Control-number</p></li>
<li><p>Score: 100</p></li>
<li><p>Tag: 001</p>
<ul>
<li><p><strong>注释</strong></p>
<blockquote>
<div><p>this field is for the control number assigned by the
organization creating, using, or distributing the record</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Subfields: empty</p></li>
<li><p>Offset: 0</p></li>
<li><p>Length: 0</p></li>
<li><p>Normalization rule: None</p></li>
<li><p>Required match checks: none (remove the blank one)</p>
<p><img alt="image211" src="_images/removematchcheck.png" /></p>
</li>
</ul>
</section>
</section>
<section id="record-overlay-rules">
<span id="record-overlay-rules-label"></span><h3>Record overlay rules<a class="headerlink" href="#record-overlay-rules" title="永久链接至标题"></a></h3>
<p>Record overlay rules allow for defining rules for how incoming and original
MARC records should be merged on a field tag and context basis when a MARC
record is updated.</p>
<section id="contexts">
<h4>Contexts<a class="headerlink" href="#contexts" title="永久链接至标题"></a></h4>
<p>Let’s first focus on understanding the concept of contexts.</p>
<p>Contexts are defined by “module” and “filter” enabling separate rule sets for
different contexts.</p>
<p>By setting different filter values for these modules, rules are applied only
when the filter value matches for a particular module. A wildcard; “*”, can
be used to match all possible filter values.</p>
<p>There are three different context modules:</p>
<dl>
<dt>borrower</dt><dd><p>Allows for defining rules that will be applied if the currently logged
in user’s borrower number matches the filter condition.</p>
</dd>
<dt>categorycode</dt><dd><p>Allows for defining rules that will be applied if the currently
logged in users’s category code matches the filter condition.</p>
</dd>
<dt>source</dt><dd><p>Allows for defining rules that will be applied if the record is updated
in a particular part of Koha. The following update methods are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>batchimport</p></li>
<li><p>zv39.50</p></li>
<li><p>intranet</p></li>
<li><p>bulkmarcimport</p></li>
<li><p>import_lexile</p></li>
<li><p>batchmod</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>A context is really nothing but a module and filter combination. Every time
a record is updated i Koha, a context is set an filter values populated with
context dependent values.</p>
<p>Examples of two different contexts are saving record in the staff client or the
currently logged in user having a particular borrower number, for example “12”.</p>
<p>These two contexts are define as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="n">intranet</span>
<span class="n">Module</span><span class="p">:</span> <span class="n">borrower</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>Only the rules of one context, that is a module and filter combination,
are applied. If multiple contexts matches they are <em>not</em> merged together.</p>
<p>If we have the following rules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">preset</span><span class="p">:</span> <span class="n">Protect</span>
<span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="n">preset</span><span class="p">:</span> <span class="n">Protect</span>
<span class="n">Module</span><span class="p">:</span> <span class="n">borrower</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">preset</span><span class="p">:</span> <span class="n">Overwrite</span>
</pre></div>
</div>
<p>And the context of the update where the rules are applied is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=&gt;</span> <span class="s2">&quot;intranet&quot;</span> <span class="p">(</span><span class="n">wildcard</span> <span class="n">match</span><span class="p">)</span>
<span class="n">borrower</span> <span class="o">=&gt;</span> <span class="mi">1</span> <span class="p">(</span><span class="n">no</span> <span class="n">match</span><span class="p">)</span>
</pre></div>
</div>
<p>Only the first two rules will be applied.</p>
<p>If instead the context of rule evaluation was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=&gt;</span> <span class="s2">&quot;intranet&quot;</span> <span class="p">(</span><span class="n">wildcard</span> <span class="n">match</span><span class="p">)</span>
<span class="n">borrower</span> <span class="o">=&gt;</span> <span class="mi">12</span> <span class="p">(</span><span class="n">an</span> <span class="n">exact</span> <span class="n">match</span><span class="p">,</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">considered</span> <span class="n">more</span> <span class="n">specific</span> <span class="n">than</span> <span class="n">a</span> <span class="n">wildcard</span> <span class="n">match</span><span class="p">)</span>
</pre></div>
</div>
<p>Only the second rule would be applied, even though the first two rules also
matches they will be discarded since the context match of that rule set is of
lower specificity because of the wildcard.</p>
<p>Context specificity is ranked in the following way:</p>
<blockquote>
<div><ul class="simple">
<li><p>First all the rules are grouped into rule sets identified by a unique filter
and module combination.</p></li>
<li><p>If one or more contexts have a non wildcard filter condition match, the rule
set of the context with the module of highest specificity is selected. (The
modules are listed in order of specificity above).</p></li>
<li><p>If no exact context match is found, but one or more wildcard matches are,
the rule set of the context with the module of highest specificity is
selected.</p></li>
<li><p>If no context matches the default behavior is to overwrite, the original
record with the incoming record.</p></li>
</ul>
</div></blockquote>
</section>
<section id="rules">
<h4>Rules<a class="headerlink" href="#rules" title="永久链接至标题"></a></h4>
<p>A rule consists of a three different parts:</p>
<dl>
<dt>Context</dt><dd><p>A module and filter to match against as described above.</p>
</dd>
<dt>Tag</dt><dd><p>A field tag expression for defining which tag(s) the rule should be applied on.
Three different tag expressions are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p>An exact tag, for example “650”.</p></li>
<li><p>A regular expression, for example “6..” matching all 6XX tags.</p></li>
<li><p>A wildcard, “*”, matching all tags</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<p>When rules for a specific context are evaluated, the most specific match is selected.
The tag expressions above are listed in order of speficicity.</p>
<dl class="simple">
<dt>Actions</dt><dd><p>Each rule defines a set of actions to take depending on the type of update.
There are four types of update events: Added, Appended, Removed and Deleted.
For each event an action is specified, whether to perform the update, or to
skip it.</p>
</dd>
</dl>
<p>By enabling/disabling updates for these different events 16 different update
behaviours can be defined. There are presets available for the most
common/useful combinations:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Preset</p></th>
<th class="head"><p>Added</p></th>
<th class="head"><p>Appended</p></th>
<th class="head"><p>Removed</p></th>
<th class="head"><p>Deleted</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Protect</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
</tr>
<tr class="row-odd"><td><p>Overwrite</p></td>
<td><p>Add</p></td>
<td><p>Append</p></td>
<td><p>Remove</p></td>
<td><p>Delete</p></td>
</tr>
<tr class="row-even"><td><p>Add new</p></td>
<td><p>Add</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
</tr>
<tr class="row-odd"><td><p>Add and append</p></td>
<td><p>Add</p></td>
<td><p>Append</p></td>
<td><p>Skip</p></td>
<td><p>Skip</p></td>
</tr>
<tr class="row-even"><td><p>Protect from deletion</p></td>
<td><p>Add</p></td>
<td><p>Append</p></td>
<td><p>Remove</p></td>
<td><p>Delete</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protect">
<h4>Protect<a class="headerlink" href="#protect" title="永久链接至标题"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Appended</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Removed</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Deleted</span><span class="p">:</span> <span class="n">Skip</span>
</pre></div>
</div>
<p>The “Protect” preset will prevent all updates on matching fields, protecting
them from being overwritten.</p>
<p>Given this rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Protect</span>
</pre></div>
</div>
<p>And the following original and incoming records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>The 650 field of the original record will retain its original value after the
update (but since the default behaviour if no rule matches is to overwrite, the
500 field will be added):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
</section>
<section id="overwrite">
<h4>Overwrite<a class="headerlink" href="#overwrite" title="永久链接至标题"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span><span class="p">:</span> <span class="n">Add</span><span class="p">,</span> <span class="n">Appended</span><span class="p">:</span> <span class="n">Append</span><span class="p">,</span> <span class="n">Removed</span><span class="p">:</span> <span class="n">Remove</span><span class="p">,</span> <span class="n">Deleted</span><span class="p">:</span> <span class="n">Delete</span>
</pre></div>
</div>
<p>The “Overwrite” preset will allow all updates on matching fields.</p>
<p>Since the default behavior is to overwrite if no rule matches, adding a rule
with the overwrite preset only makes sense if there is some other rule with a
lower tag specificity with a different behavior, for example a wildcard tag
rule.</p>
<p>So given these two rules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Protect</span>
<span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Overwrite</span>
</pre></div>
</div>
<p>And the following original and incoming records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>Incoming record:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>All fields but 650 will be protected on the original record, and the resulting
record will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
</section>
<section id="add-new">
<h4>Add new<a class="headerlink" href="#add-new" title="永久链接至标题"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span><span class="p">:</span> <span class="n">Add</span><span class="p">,</span> <span class="n">Appended</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Removed</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Deleted</span><span class="p">:</span> <span class="n">Skip</span>
</pre></div>
</div>
<p>The “Add new” allow updates only if the incoming field is new, that is there
exists no fields with this tag in the original record.</p>
<p>Given this rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Add</span>
</pre></div>
</div>
<p>And the following original and incomiung records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>The 650 in the incoming record will not overwrite the 650 field in the original
record since the original record contains one or more 650 fields. The 500 field
will be added since the default rule is to overwrite. The resulting record will
be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>On the other hand, if the original record was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
</pre></div>
</div>
<p>The resulting record will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>This is because there were no 650 fields in the original record, so adding new
ones is permitted.</p>
</section>
<section id="add-and-append">
<h4>Add and append<a class="headerlink" href="#add-and-append" title="永久链接至标题"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span><span class="p">:</span> <span class="n">Add</span><span class="p">,</span> <span class="n">Appended</span><span class="p">:</span> <span class="n">Append</span><span class="p">,</span> <span class="n">Removed</span><span class="p">:</span> <span class="n">Skip</span><span class="p">,</span> <span class="n">Deleted</span><span class="p">:</span> <span class="n">Skip</span>
</pre></div>
</div>
<p>In the “Add and append” preset, appending is also permitted, but not removing or
deleting.</p>
<p>So if we have the following rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Add</span> <span class="ow">and</span> <span class="n">append</span>
</pre></div>
</div>
<p>And the following original and incoming records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>The resulting record will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>Note that the “old” 650 field from the original record was not removed since we
only allow adding or appending new values.</p>
<p>If we insead used the “Overwrite” preset the resulting record would instead be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>with the 650 field of the original record removed.</p>
</section>
<section id="protect-from-deletion">
<h4>Protect from deletion<a class="headerlink" href="#protect-from-deletion" title="永久链接至标题"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span><span class="p">:</span> <span class="n">Add</span><span class="p">,</span> <span class="n">Appended</span><span class="p">:</span> <span class="n">Append</span><span class="p">,</span> <span class="n">Removed</span><span class="p">:</span> <span class="n">Remove</span><span class="p">,</span> <span class="n">Deleted</span><span class="p">:</span> <span class="n">Skip</span>
</pre></div>
</div>
<p>The preset “Protect from deletion” will allow all update operations except
deletion. Deletion is defined as when there are no fields of the matching tag
in the incoming record so that all of the fields with this tag would be removed
on the original record.</p>
<p>So given the following rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Module</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nb">filter</span><span class="p">:</span> <span class="o">*</span><span class="p">,</span> <span class="n">Tag</span><span class="p">:</span> <span class="mi">650</span><span class="p">,</span> <span class="n">Preset</span><span class="p">:</span> <span class="n">Protect</span> <span class="kn">from</span> <span class="nn">deletion</span>
</pre></div>
</div>
<p>And the following original and incoming records:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>The resulting record will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision pilot programs$zUnited States$vCatalogs.</span>
</pre></div>
</div>
<p>On the other hand, if the incoming record was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
</pre></div>
</div>
<p>In this case the deletion of 650 would not be permitted and the value of the
field on the original record would be protected. The resulting record would
instead be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span> <span class="mi">1</span><span class="c1">#$aTerrace, Vincent,$d1948-</span>
<span class="mi">500</span> <span class="c1">##$aIncludes index.</span>
<span class="mi">650</span> <span class="c1">#0$aTelevision serials$zUnited States$vCatalogs.</span>
</pre></div>
</div>
</section>
<section id="custom-presets">
<h4>Custom presets<a class="headerlink" href="#custom-presets" title="永久链接至标题"></a></h4>
<p>To work with custom presets, a more complete understanding of the update events
is required:</p>
<dl class="simple">
<dt>Added</dt><dd><p>For a mathing rule with a tag, the action configured for the “Added” event is
applied for new fields in the incoming record if the original record has no
fields with that tag.  If the action is “Add” they will be added to the
original record, if “Skip” they will be thrown away.</p>
</dd>
<dt>Appended</dt><dd><p>If the two record have common fields with the rule tag, that is one or more
fields with identical subfield and identifier values, th action configured
for th for the “Appended” event is applied for fields found in incoming
record but not in original record. If the action is “Append” they will be
added to the original record, if “Skip” they will be thrown away.</p>
</dd>
<dt>Removed</dt><dd><p>If the two records have common fields with the rule tag, the action
configured for the “Removed” action is applied for fields found in original
record but not in incoming record.  If the action is “Remove” they will
removed from the original record, if “Skip” they will be kept.</p>
</dd>
<dt>Deleted</dt><dd><p>If the original record have fields with the rule tag, but no fields with this
tag is found in the incoming record, the action configured for the “Deleted”
event is applied for the fields in the incoming record. If the action is
“Delete” the fields will be removed from the original record, if “Skip” they
will be kept.</p>
</dd>
</dl>
</section>
</section>
<section id="oai-sets-configuration">
<span id="oai-sets-configuration-label"></span><h3>OAI sets configuration<a class="headerlink" href="#oai-sets-configuration" title="永久链接至标题"></a></h3>
<p>On this page you can create, modify and delete OAI-PMH sets</p>
<section id="create-a-set">
<span id="create-a-set-label"></span><h4>Create a set<a class="headerlink" href="#create-a-set" title="永久链接至标题"></a></h4>
<p>To create a set:</p>
<ul class="simple">
<li><p>Click on the link ‘Add a new set’</p></li>
<li><p>Fill the mandatory fields ‘setSpec’ and ‘setName’</p></li>
<li><p>Then you can add descriptions for this set. To do this click on ‘Add
description’ and fill the newly created text box. You can add as many
descriptions as you want.</p></li>
<li><p>Click on ‘Save’ button’</p></li>
</ul>
</section>
<section id="modify-delete-a-set">
<span id="modify-delete-a-set-label"></span><h4>Modify/delete a set<a class="headerlink" href="#modify-delete-a-set" title="永久链接至标题"></a></h4>
<p>To modify a set, just click on the link ‘Modify’ on the same line of the
set you want to modify. A form similar to set creation form will appear
and allow you to modify the setSpec, setName and descriptions.</p>
<p>To delete a set, just click on the link ‘Delete’ on the same line of the
set you want to delete.</p>
</section>
<section id="define-mappings">
<span id="define-mappings-label"></span><h4>Define mappings<a class="headerlink" href="#define-mappings" title="永久链接至标题"></a></h4>
<p>Here you can define how a set will be build (what records will belong to
this set) by defining mappings. Mappings are a list of conditions on
record content.</p>
<ul class="simple">
<li><p>Fill the fields ‘Field’, ‘Subfield’ and ‘Value’. For example if you
want to include in this set all records that have a 999$9 equal to
‘XXX’. Fill ‘Field’ with 999, ‘Subfield’ with 9 and ‘Value’ with XXX.</p></li>
<li><p>If you want to add another condition, click on ‘Add’ button and repeat
step 1. You can choose between ‘and’ or ‘or’ Boolean operators to link
your conditions.</p></li>
<li><p>Click on ‘Save’</p></li>
</ul>
<p>To delete a condition, just leave at least one of ‘Field’, ‘Subfield’ or
‘Value’ empty and click on ‘Save’.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>Actually, a condition is true if value in the corresponding subfield
is strictly equal to what is defined if ‘Value’. A record having
999$9 = ‘XXX YYY’ will not belong to a set where condition is 999$9
= ‘XXX’.</p>
</div></blockquote>
<p>And it is case sensitive : a record having 999$9 = ‘xxx’ will not belong
to a set where condition is 999$9 = ‘XXX’.</p>
</section>
<section id="build-sets">
<span id="build-sets-label"></span><h4>Build sets<a class="headerlink" href="#build-sets" title="永久链接至标题"></a></h4>
<p>Once you have configured all your sets, you have to build the sets. This
is done by calling the script misc/migration_tools/build_oai_sets.pl.</p>
</section>
</section>
<section id="item-search-fields">
<span id="item-search-fields-label"></span><h3>Item search fields<a class="headerlink" href="#item-search-fields" title="永久链接至标题"></a></h3>
<p>From here you can add custom search fields to the <a class="reference internal" href="searching.html#item-searching-label"><span class="std std-ref">item
search</span></a> option in the staff client.</p>
<blockquote>
<div><p><img alt="image1205" src="_images/itemsearchfields.png" /></p>
</div></blockquote>
<p>To add a new search term simply click the ‘New search field’ button</p>
<blockquote>
<div><p><img alt="image1206" src="_images/additemsearchfields.png" /></p>
</div></blockquote>
<ul class="simple">
<li><p>Name is a field for you to identify the search term</p></li>
<li><p>Label is what will appear on the item search page</p></li>
<li><p>MARC field allows you to pick which field you’d like to search in</p></li>
<li><p>MARC subfield is the subfield you’d like to search in</p></li>
<li><p>Authorized values category can be used to turn this search field in
to a pull down instead of a free text field</p></li>
</ul>
<p>Once your new field is added it will be visible at the top of this page
and on the item search page</p>
<blockquote>
<div><p><img alt="image1207" src="_images/customsearch.png" /></p>
</div></blockquote>
</section>
</section>
<section id="search-engine-configuration">
<span id="id2"></span><h2>Search engine configuration<a class="headerlink" href="#search-engine-configuration" title="永久链接至标题"></a></h2>
<p>Once you have switched to Elasticsearch in your SearchEngine system preference,
you’ll see a new link for Search engine configuration in the Catalog section of
Administration. Here you will manage indexes, facets, and their mappings to MARC
fields and subfields.</p>
</section>
<section id="acquisitions">
<span id="acquisitions-module-label"></span><h2>Acquisitions<a class="headerlink" href="#acquisitions" title="永久链接至标题"></a></h2>
<p>The Koha Acquisitions module provides a way for the library to record
orders placed with vendors and manage purchase budgets.</p>
<p>Before using the <a class="reference external" href="#acqmodule">Acquisitions Module</a>, you will want to
make sure that you have completed all of the set up.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Acquisitions</p></li>
</ul>
<section id="currencies-and-exchange-rates">
<span id="currencies-and-exchange-rates-label"></span><h3>Currencies and exchange rates<a class="headerlink" href="#currencies-and-exchange-rates" title="永久链接至标题"></a></h3>
<p>If you place orders from more than one country you will want to input
currency exchange rates so that your acquisitions module will properly
calculate totals.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Acquisitions &gt; Currencies and
exchange rates</p></li>
</ul>
<p><img alt="image212" src="_images/currencies.png" /></p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>This data is not automatically updated, so be sure to keep it up to
date so that your accounting is kept correct.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<ul class="simple">
<li><p>You can customize the columns of this table in the
<a class="reference internal" href="#column-settings-label"><span class="std std-ref">‘Table settings’</span></a> section of the
Administration module (table id: currency).</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>The ISO code you enter will be used when importing MARC files via the
staging tools, the tool will attempt to find and use the price of the
currently active currency.</p>
<p>The active currency is the main currency you use in your library. Your
active currency will have a check mark in the ‘Active’ column. If you
don’t have an active currency you will see an error message telling you
to choose an active currency.</p>
<p><img alt="image213" src="_images/nocurrency.png" /></p>
</section>
<section id="budgets">
<span id="budgets-label"></span><h3>Budgets<a class="headerlink" href="#budgets" title="永久链接至标题"></a></h3>
<p>Budgets are used for tracking accounting values related to acquisitions.
For example you could create a budget for the current year (ex. 2015)
and then break that into <a class="reference internal" href="#funds"><span class="std std-ref">Funds</span></a> for different areas of the
library (ex. Books, Audio, etc).</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Acquisitions &gt; Budgets</p></li>
</ul>
<p>When visiting the main budget administration you will see two tabs, one
for active and one for inactive budgets.</p>
<p><img alt="image214" src="_images/budgetslist.png" /></p>
<section id="adding-budgets">
<span id="adding-budgets-label"></span><h4>Adding budgets<a class="headerlink" href="#adding-budgets" title="永久链接至标题"></a></h4>
<p>Budgets can either be created <a class="reference internal" href="#add-a-new-budget-label"><span class="std std-ref">from scratch</span></a>, by
<a class="reference internal" href="#duplicate-a-budget-label"><span class="std std-ref">duplicating the previous year’s budget</span></a> or by
<a class="reference internal" href="#close-a-budget-label"><span class="std std-ref">closing a previous year’s budget</span></a>.</p>
<section id="add-a-new-budget">
<span id="add-a-new-budget-label"></span><h5>Add a new budget<a class="headerlink" href="#add-a-new-budget" title="永久链接至标题"></a></h5>
<p>If you haven’t used Koha before for acquisitions then you’ll need to
start fresh with a new budget. To add a new budget click the ‘New
budget’ button.</p>
<p><img alt="image215" src="_images/newbudgetform.png" /></p>
<ul class="simple">
<li><p>Choose the time period this budget is for, whether it’s an academic
year, a fiscal year, a quarter, etc.</p></li>
<li><p>The description should be something that will help you identify the
budget when ordering</p></li>
<li><p>In the amount box do not use any symbols, simply enter the amount of
the budget with numbers and decimals.</p></li>
<li><p>Marking a budget active makes it usable when placing orders in the
acquisitions module, even if the order is placed after the budget end
date. This will allow you to record orders that were places in a
previous budget period.</p></li>
<li><p>Locking a budget means that funds will not be able to be modified by
librarians</p></li>
</ul>
<p>Once you have made your edits, click the ‘Save changes’ button. You will
be brought to a list of your existing budgets.</p>
<p><img alt="image216" src="_images/budgetslist.png" /></p>
</section>
<section id="duplicate-a-budget">
<span id="duplicate-a-budget-label"></span><h5>Duplicate a budget<a class="headerlink" href="#duplicate-a-budget" title="永久链接至标题"></a></h5>
<p>To duplicate a budget from a previous year, click on the link for the
budget name from the list of budgets</p>
<p><img alt="image217" src="_images/budgetslist.png" /></p>
<p>On the screen listing the budget breakdown click the ‘Edit’ button at the
top and choose to ‘Duplicate budget’</p>
<p><img alt="image218" src="_images/duplicatebudget.png" /></p>
<p>You can also click the ‘Actions’ button to the right of the budget and
choose ‘Duplicate’.</p>
<p><img alt="image1208" src="_images/duplicateaction.png" /></p>
<p>In both cases you will be presented with a form where you simply need to
enter the new start and end date and save the budget.</p>
<p><img alt="image219" src="_images/duplicatestartend.png" /></p>
<p>Check the box for ‘Mark the original budget as inactive’ if the original
budget should no longer be used.</p>
<p>Check the box for ‘Set all funds to zero’ if you wish the new budget to
contain all the same fund structures as the previous budget but no
allocations until you manually enter an amount in the fund.</p>
<p>This will not only duplicate your budget, but all of the funds
associated with that budget so that you can reuse budgets and funds from
year to year and so that you can move unreceived orders and if desired
unspent funds from a previous budget to the new budget.</p>
</section>
<section id="close-a-budget">
<span id="close-a-budget-label"></span><h5>Close a budget<a class="headerlink" href="#close-a-budget" title="永久链接至标题"></a></h5>
<p>Close a budget to move or roll over unreceived orders and if desired
unspent funds from a previous budget to a new budget. Before closing
your budget you might want to <a class="reference internal" href="#duplicate-a-budget-label"><span class="std std-ref">duplicate the previous year’s
budget</span></a> so that you have somewhere for the
unreceived orders to roll to.</p>
<p>Find the previous budget with unreceived orders on the Active budgets or
the Inactive budgets tab and select ‘Close’ under ‘Actions’.</p>
<blockquote>
<div><p><img alt="image1209" src="_images/closebudget.png" /></p>
<p><strong>注释</strong></p>
<p>In order for the unreceived orders to be automatically moved to the
new budget, the fund structures in the previous budget must exist in
the new budget. Budgets without unreceived orders cannot be closed.</p>
</div></blockquote>
<p>When you select ‘Close’ you will be presented with a form.</p>
<blockquote>
<div><p><img alt="image1210" src="_images/closebudgetoptions.png" /></p>
</div></blockquote>
<p>Use the ‘Select a budget’ drop down to choose the new budget for the
unreceived orders.</p>
<p>Check the box for ‘Move remaining unspent funds’ to move the unspent
amounts from the funds of the budget being closed to the selected
budget.</p>
<p>Once you have made your choices, click the ‘Move unreceived orders’
button. You will be presented with a dialog box that says ‘You have
chosen to move all unreceived orders from ‘Budget X’ to ‘Budget Y’. This
action cannot be reversed. Do you wish to continue?’ Budget X is the
budget to be closed and Budget Y is the selected budget.</p>
<blockquote>
<div><p><img alt="image1211" src="_images/closewarning.png" /></p>
</div></blockquote>
<p>If everything seems correct click ‘OK’ and the unreceived orders and, if
selected, unspent funds will be moved.</p>
<p>Wait until the ‘Report after moving unreceived orders from budget X to
Y’ displays. This will list the order numbers which have been impacted
(grouped by fund) and detail if the unreceived order was moved or if
there was a problem. For example, if the new budget does not contain a
fund with the same name as the previous budget, the order will not be
moved.</p>
<p><img alt="image220" src="_images/closereport.png" /></p>
</section>
</section>
</section>
<section id="funds">
<span id="funds-label"></span><h3>Funds<a class="headerlink" href="#funds" title="永久链接至标题"></a></h3>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Acquisitions &gt; Funds</p></li>
</ul>
<section id="add-a-fund">
<span id="add-a-fund-label"></span><h4>Add a Fund<a class="headerlink" href="#add-a-fund" title="永久链接至标题"></a></h4>
<p>A fund is added to a budget.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>A <a class="reference internal" href="#adding-budgets-label"><span class="std std-ref">budget</span></a> must be defined before a fund can be
created.</p>
</div></blockquote>
<p>To add a new fund click the ‘New’ button and then choose which budget you
would like to add the fund to.</p>
<p><img alt="image221" src="_images/newfund.png" /></p>
<p>In the form that appears you want to enter the basics about your fund.</p>
<p><img alt="image222" src="_images/newfundform.png" /></p>
<p>The three first fields are required, the rest are optional</p>
<ul>
<li><p>Fund code is a unique identifier for your fund</p></li>
<li><p>The fund name should be something that librarians will understand</p></li>
<li><p>Amount should be entered with only numbers and decimals, no other
characters</p></li>
<li><p>Warning at (%) or Warning at (amount) can be filled in to make Koha
warn you before you spend a certain percentage or amount of your
budget. This will prevent you from overspending.</p></li>
<li><p>You can choose to assign this fund to a librarian. Doing so will make
it so that only that librarian can make changes to the fund</p></li>
<li><p>Choose which library will be using this fund</p></li>
<li><p>You can restrict who can order from this fund by choosing either the
‘owner’, ‘owner and users’ or ‘owner, users and library’ from the
‘Restrict access to’ menu</p>
<p><img alt="image223" src="_images/restrictfund.png" /></p>
<ul>
<li><p><strong>重要</strong></p>
<blockquote>
<div><p>Without an owner, the access restriction will be ignored, be
sure to enter an owner as well as choose a restriction</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Notes are simply for any descriptive notes you might want to add so
that librarians know when to use this fund</p></li>
<li><p>Planning categories are used for statistical purposes. If you will be
using the Asort1 and/or Asort2 authorized values lists to track your orders
you need to select them when setting up the fund.  Select the Asort1/Asort2
option from the dropdown lists for the Statistical 1 done on: and
Statistical 2 done on: fields.</p></li>
<li><p>To learn more about planning categories, check out the <a class="reference internal" href="faq.html#faq-planning-categories-label"><span class="std std-ref">Planning category FAQ</span></a>.</p></li>
</ul>
<p>When complete, click ‘Submit’ and you will be brought to a list of all
of the funds for the budget.</p>
<p><img alt="image224" src="_images/fundlist.png" /></p>
<p>The monetary columns in the fund table break down as follows:</p>
<ol class="arabic simple">
<li><p>Base-level allocated is the ‘Amount’ value you defined when creating
the fund</p></li>
<li><p>Base-level ordered is the ordered amount for this fund (without child
funds)</p></li>
<li><p>Total ordered is the base-level ordered for this fund and all its
child funds</p></li>
<li><p>Base-level spent is the spent amount for this fund (without child
funds)</p></li>
<li><p>Total spent is the base-level spent for this fund and all its child
funds</p></li>
<li><p>Base-level available is 1 - 2</p></li>
<li><p>Total available is 1 - 3</p></li>
</ol>
<p>To the right of each fund you will find the ‘Actions’ button under which
you will find the ‘Edit,’ ‘Delete,’ and ‘Add child fund’ options.</p>
<p><img alt="image225" src="_images/fundactions.png" /></p>
<p>A child fund simply a sub-fund of the fund listed. An example would be
to have a fund for ‘Fiction’ and under that have a fund for ‘New
releases’ and a fund for ‘Science Fiction.’ It is an optional way to
further organize your finances.</p>
<p>Funds with children will show with a small arrow to the left. Clicking
that will show you the children funds.</p>
<p><img alt="image226" src="_images/childfunds.png" /></p>
</section>
<section id="budget-planning">
<span id="budget-planning-label"></span><h4>Budget planning<a class="headerlink" href="#budget-planning" title="永久链接至标题"></a></h4>
<p>When viewing the list of funds click the ‘Planning’ button and choose
how you would like to plan to spend your budget.</p>
<p><img alt="image227" src="_images/planningpulldown.png" /></p>
<p>If you choose ‘Plan by MONTHS’ you will see the budgeted amount broken
down by months:</p>
<p><img alt="image228" src="_images/planningbymonths.png" /></p>
<p>To hide some of the columns you can click the ‘hide’ link to the right
(or below as in the screenshot above) the dates. To add more columns you
can click the ‘Show a column’ link found below the ‘Fund remaining’
heading.</p>
<p><img alt="image229" src="_images/addplanningcol.png" /></p>
<p>From here you can plan your budget spending by manually entering values
or by clicking the ‘Auto-fill row’ button. If you choose to auto-fill
the form the system will try to divide the amount accordingly, you may
have to make some edits to split things more accurately.</p>
<p><img alt="image230" src="_images/autofill.png" /></p>
<p>Once your changes are made, click the ‘Save’ button. If you would like
to export your data as a CSV file you can do so by entering a file name
in the ‘Output to a file named’ field and clicking the ‘Output’ button.</p>
<p><img alt="image231" src="_images/planningcsv.png" /></p>
</section>
</section>
<section id="edi-accounts">
<span id="edi-accounts-label"></span><h3>EDI accounts<a class="headerlink" href="#edi-accounts" title="永久链接至标题"></a></h3>
<p>From here you can set up the information needed to connect to your
acquisitions vendors.</p>
<blockquote>
<div><p><strong>注释</strong></p>
<p>Before you begin you will need at least one <a class="reference internal" href="acquisitions.html#add-a-vendor-label"><span class="std std-ref">Vendor set up in
Acquisitions</span></a>.</p>
</div></blockquote>
<p>To add account information click the ‘New account’ button.</p>
<blockquote>
<div><p><img alt="image1212" src="_images/newedi.png" /></p>
</div></blockquote>
<p>In the form that appears you will want to enter your vendor information.</p>
<p>See the <a class="reference internal" href="acquisitions.html#edi-accounts-for-vendors-label"><span class="std std-ref">EDI questions for vendors</span></a> section
of the <a class="reference internal" href="acquisitions.html#acquisitions-label"><span class="std std-ref">acquisitions module chapter</span></a> for a description
of each field.</p>
<p>Each vendor will have one account.</p>
</section>
<section id="library-eans">
<span id="library-eans-label"></span><h3>Library EANs<a class="headerlink" href="#library-eans" title="永久链接至标题"></a></h3>
<p>A library EAN is the identifier the vendor gives the library to send
back to them so they know which account to use when billing. One EDI
account can have multiple EANs.</p>
<p>To add an EAN click the ‘New EAN’ button.</p>
<p>In the form that appears enter the information provided by your vendor.</p>
<p>See the <a class="reference internal" href="acquisitions.html#library-ean-buyer-identifier-label"><span class="std std-ref">EDI questions for vendors</span></a>
section of the <a class="reference internal" href="acquisitions.html#acquisitions-label"><span class="std std-ref">acquisitions module chapter</span></a> for a
description of each field.</p>
</section>
</section>
<section id="additional-parameters">
<span id="additional-parameters-label"></span><h2>Additional parameters<a class="headerlink" href="#additional-parameters" title="永久链接至标题"></a></h2>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Additional parameters</p></li>
</ul>
<section id="z39-50-sru-servers">
<span id="z39-50-sru-servers-label"></span><h3>Z39.50/SRU servers<a class="headerlink" href="#z39-50-sru-servers" title="永久链接至标题"></a></h3>
<p>Z39.50 is a client/server protocol for searching and retrieving
information from remote computer databases, in short it’s a tool used
for copy cataloging.</p>
<p>SRU- Search/Retrieve via URL - is a standard XML-based protocol for
search queries, utilizing CQL - Contextual Query Language - a standard
syntax for representing queries.</p>
<p>Using Koha you can connect to any Z39.50 or SRU target that is publicly
available or that you have the log in information to and copy both
bibliographic and/or authority records from that source.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Additional parameters &gt;
Z39.50/SRU servers</p></li>
</ul>
<p>Koha comes with a default list of Z39.50/SRU targets set up that you can
add to, edit or delete</p>
<p><img alt="image232" src="_images/z39list.png" /></p>
<p>To find additional Z39.50 targets you use IndexData’s IRSpy:
<a class="reference external" href="http://irspy.indexdata.com/">http://irspy.indexdata.com</a> or the
Library of Congress’s list of targets <a class="reference external" href="http://www.loc.gov/z3950/">http://www.loc.gov/z3950/</a></p>
<section id="add-a-z39-50-target">
<span id="add-a-z39-50-target-label"></span><h4>Add a Z39.50 target<a class="headerlink" href="#add-a-z39-50-target" title="永久链接至标题"></a></h4>
<ul>
<li><p>From the main Z39.50 page, click ‘New Z39.50 server’</p>
<p><img alt="image233" src="_images/newz39.png" /></p>
<ul class="simple">
<li><p>‘Z39.50 server’ should be populated with a name that will help you
identify the source (such as the library name).</p></li>
<li><p>‘Hostname’ will be the address to the Z39.50 target.</p></li>
<li><p>‘Port’ tells Koha what port to listen on to get results from this
target.</p></li>
<li><p>‘Userid’ and ‘Password’ are only required for servers that are
password protected.</p></li>
<li><p>Check the ‘Preselected’ box if you want this target to always be
selected by default.</p></li>
<li><p>‘Rank’ lets you enter where in the list you’d like this target to
appear.</p>
<ul>
<li><p>If this is left blank the targets will be in alphabetical
order.</p></li>
</ul>
</li>
<li><p>‘Attributes’ lets you define PQF attributes to be added to all queries.</p></li>
<li><p>‘Syntax’ is the MARC flavor you use.</p></li>
<li><p>‘Encoding’ tells the system how to read special characters.</p></li>
<li><p>‘Timeout’ is helpful for targets that take a long while. You can
set the timeout so that it doesn’t keep trying the target if
results aren’t found in a reasonable amount of time.</p></li>
<li><p>‘Record type’ lets you define if this is a bibliographic or an
authority target.</p></li>
<li><p>‘XSLT file(s)’ lets enter one or more (comma-separated) XSLT file
names that you want to apply on the search results.</p>
<ul>
<li><p>When retrieving records from external targets you may wish to
automate some changes to those records. XSLT’s allow you to do
this. Koha ships with some sample XSLT files in the
/koha-tmpl/intranet-tmpl/prog/en/xslt/ directory ready for use:</p>
<ul>
<li><p>Del952.xsl: Remove items (MARC21/NORMARC)</p></li>
<li><p>Del995.xsl: Remove items (UNIMARC)</p></li>
<li><p>Del9LinksExcept952.xsl: Remove $9 links. Skip item fields
(MARC21/NORMARC)</p></li>
<li><p>Del9LinksExcept995.xsl: Remove $9 links. Skip item fields
(UNIMARC)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="suggested-bibliographic-z39-50-targets">
<span id="suggested-bibliographic-z39-50-targets-label"></span><h4>Suggested bibliographic Z39.50 targets<a class="headerlink" href="#suggested-bibliographic-z39-50-targets" title="永久链接至标题"></a></h4>
<p>Koha libraries with open Z39.50 targets can share and find connection
information on the Koha wiki:
<a class="reference external" href="http://wiki.koha-community.org/wiki/Koha_Open_Z39.50_Sources">http://wiki.koha-community.org/wiki/Koha_Open_Z39.50_Sources</a>. You can
also find open Z39.50 targets by visiting IRSpy:
<a class="reference external" href="http://irspy.indexdata.com">http://irspy.indexdata.com</a>.</p>
<p>The following targets have been used successfully by other Koha
libraries (in the Americas):</p>
<ul class="simple">
<li><p>ACCESS PENNSYLVANIA 205.247.101.11:210 INNOPAC</p></li>
<li><p>CUYAHOGA COUNTY PUBLIC webcat.cuyahoga.lib.oh.us:210 INNOPAC</p></li>
<li><p>GREATER SUDBURY PUBLIC 216.223.90.51:210 INNOPAC</p></li>
<li><p>HALIFAX PUBLIC catalog.halifaxpubliclibraries.ca:210 horizon</p></li>
<li><p>HALTON HILLS PUBLIC cat.hhpl.on.ca:210 halton_hills</p></li>
<li><p>LIBRARY OF CONGRESS lx2.loc.gov: 210 LCDB</p></li>
<li><p>LONDON PUBLIC LIBRARY catalog.londonpubliclibrary.ca:210 INNOPAC</p></li>
<li><p>MANITOBA PUBLIC library.gov.mb.ca:210 horizon</p></li>
<li><p>MILTON PL cat.mpl.on.ca:210 horizon</p></li>
<li><p>NATIONAL LIBRARY OF WALES cat.llgc.org.uk:210 default</p></li>
<li><p>NHUPAC 199.192.6.130:211 nh_nhupac</p></li>
<li><p>OCEAN STATE LIBRARIES (RI) catalog.oslri.net:210 INNOPAC</p></li>
<li><p>OHIOLINK olc1.ohiolink.edu:210 INNOPAC</p></li>
<li><p>PUBCAT prod890.dol.state.vt.us:2300 unicorn</p></li>
<li><p>SAN JOAQUIN VALLEY PUBLIC LIBRARY SYSTEM (CA) hip1.sjvls.org:210
ZSERVER</p></li>
<li><p>SEATTLE PUBLIC LIBRARY ZSERVER.SPL.ORG:210 HORIZON</p></li>
<li><p>TORONTO PUBLIC symphony.torontopubliclibrary.ca:2200 unicorn</p></li>
<li><p>TRI-UNI 129.97.129.194:7090 voyager</p></li>
<li><p>VANCOUVER PUBLIC LIBRARY z3950.vpl.ca:210 Horizon</p></li>
</ul>
</section>
<section id="suggested-authority-z39-50-targets">
<span id="suggested-authority-z39-50-targets-label"></span><h4>Suggested Authority Z39.50 Targets<a class="headerlink" href="#suggested-authority-z39-50-targets" title="永久链接至标题"></a></h4>
<p>The following targets have been used successfully by other Koha
libraries (in the Americas):</p>
<ul class="simple">
<li><p>LIBRARIESAUSTRALIA AUTHORITIES
z3950-test.librariesaustralia.nla.gov.au:210 AuthTraining Userid:
ANLEZ / Password: z39.50</p></li>
<li><p>LIBRARY OF CONGRESS NAME AUTHORITIES lx2.loc.gov:210 NAF</p></li>
<li><p>LIBRARY OF CONGRESS SUBJECT AUTHORITIES lx2.loc.gov:210 SAF</p></li>
</ul>
</section>
<section id="add-a-sru-target">
<span id="add-a-sru-target-label"></span><h4>Add a SRU target<a class="headerlink" href="#add-a-sru-target" title="永久链接至标题"></a></h4>
<ul>
<li><p>From the main Z39.50/SRU page, click ‘New SRU server’</p>
<p><img alt="image234" src="_images/newsru.png" /></p>
<ul>
<li><p>‘Server name’ should be populated with a name that will help you
identify the source (such as the library name).</p></li>
<li><p>‘Hostname’ will be the address to the Z39.50 target.</p></li>
<li><p>‘Port’ tells Koha what port to listen on to get results from this
target.</p></li>
<li><p>‘Userid’ and ‘Password’ are only required for servers that are
password protected.</p></li>
<li><p>Check the ‘Preselected’ box if you want this target to always be
selected by default.</p></li>
<li><p>‘Rank’ lets you enter where in the list you’d like this target to
appear.</p>
<ul class="simple">
<li><p>If this is left blank the targets will be in alphabetical
order.</p></li>
</ul>
</li>
<li><p>‘Syntax’ is the MARC flavor you use.</p></li>
<li><p>‘Encoding’ tells the system how to read special characters.</p></li>
<li><p>‘Timeout’ is helpful for targets that take a long while. You can
set the timeout so that it doesn’t keep trying the target if
results aren’t found in a reasonable amount of time.</p></li>
<li><p>‘Additional SRU options’ is where you can enter additional options
of the external server here, like sru_version=1.1 or
schema=marc21, etc. Note that these options are server dependent.</p></li>
<li><p>‘SRU Search field mapping’ lets you add or update the mapping from
the available fields on the Koha search form to the specific
server dependent index names.</p>
<ul>
<li><p>To further refine your searches, you could add the following
index names to the SRU search field mappings. To do this, edit
the server and click the Modify button next to this field.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Title</p></td>
<td><p>dc.title</p></td>
</tr>
<tr class="row-even"><td><p>ISBN</p></td>
<td><p>bath.isbn</p></td>
</tr>
<tr class="row-odd"><td><p>Any</p></td>
<td><p>cql.anywhere</p></td>
</tr>
<tr class="row-even"><td><p>Author</p></td>
<td><p>dc.author</p></td>
</tr>
<tr class="row-odd"><td><p>ISSN</p></td>
<td><p>bath.issn</p></td>
</tr>
<tr class="row-even"><td><p>Subject</p></td>
<td><p>dc.subject</p></td>
</tr>
<tr class="row-odd"><td><p>Standard ID</p></td>
<td><p>bath.standardIdentifier</p></td>
</tr>
</tbody>
</table>
<p>Table: SRU mapping</p>
</li>
</ul>
</li>
<li><p>‘XSLT file(s)’ lets enter one or more (comma-separated) XSLT file
names that you want to apply on the search results.</p>
<ul class="simple">
<li><p>When retrieving records from external targets you may wish to
automate some changes to those records. XSLT’s allow you to do
this. Koha ships with some sample XSLT files in the
/koha-tmpl/intranet-tmpl/prog/en/xslt/ directory ready for use:</p>
<ul>
<li><p>Del952.xsl: Remove items (MARC21/NORMARC)</p></li>
<li><p>Del995.xsl: Remove items (UNIMARC)</p></li>
<li><p>Del9LinksExcept952.xsl: Remove $9 links. Skip item fields
(MARC21/NORMARC)</p></li>
<li><p>Del9LinksExcept995.xsl: Remove $9 links. Skip item fields
(UNIMARC)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="did-you-mean">
<span id="did-you-mean-label"></span><h3>Did you mean?<a class="headerlink" href="#did-you-mean" title="永久链接至标题"></a></h3>
<p><em>Get there:</em> More &gt; Administration &gt; Additional parameters &gt; Did you
mean?</p>
<p>Koha can offer ‘Did you mean?’ options on searches based on values in
your <a class="reference internal" href="cataloging.html#authorities-label"><span class="std std-ref">authorities</span></a>.</p>
<blockquote>
<div><p><strong>重要</strong></p>
<p>Did you mean? only works in the OPAC at this time. The intranet
options are here for future development.</p>
</div></blockquote>
<p>Using this page you can control which options Koha gives patrons on
their search results.</p>
<p><img alt="image235" src="_images/didyoumean.png" /></p>
<p>To turn on the ‘Did you mean?’ bar on your search results you need to
check the box next to each plugin you would like to use. The two plugins
you have to choose from are:</p>
<ul class="simple">
<li><p>The ExplodedTerms plugin suggests that the user try searching for
broader/narrower/related terms for a given search (e.g. a user
searching for “New York (State)” would click the link for narrower
terms if they’re also interested in “New York (City)”). This is only
relevant for libraries with highly hierarchical authority data.</p></li>
<li><p>The AuthorityFile plugin searches the authority file and suggests the
user might be interested in bibs linked to the top 5 authorities</p></li>
</ul>
<p>If you want one plugin to take priority over another you simply drag it
above the other.</p>
<p><img alt="image236" src="_images/didyoumeandrag.png" /></p>
<p>If you choose both plugins you will see several options at the top of
your search results</p>
<p><img alt="image237" src="_images/didyoumeanopacexplode.png" /></p>
<p>If you choose just the AuthorityFile you’ll see just authorities.</p>
<p><img alt="image238" src="_images/didyoumeanopacauth.png" /></p>
</section>
<section id="table-settings">
<span id="column-settings-label"></span><h3>Table settings<a class="headerlink" href="#table-settings" title="永久链接至标题"></a></h3>
<p>This administration area will help you hide or display columns on fixed
tables throughout the staff interface and OPAC.</p>
<ul class="simple">
<li><p><em>Get there:</em> Administration &gt; Additional parameters &gt; Table settings</p></li>
</ul>
<p><img alt="Screenshot of the Table settings page, where we can see all the modules of Koha that have customizable tables" src="_images/tablesettings.png" /></p>
<p>Clicking on the module you’d like to edit tables for will show you the
options available to you.</p>
<p>This area lets you control the columns that show in the table in
question. If nothing is hidden you will see no check marks in the ‘is
hidden by default’ column.</p>
<p><img alt="The currencies table settings, no columns are marked as hidden" src="_images/setcurrencynohide.png" /></p>
<p>And will see all of the columns when viewing the table on its regular
page.</p>
<p><img alt="The currencies administration table, all columns are visible" src="_images/currenciesnohide.png" /></p>
<p>If columns are hidden they will have checks in the ‘is hidden by
default’ column.</p>
<p><img alt="The currencies table settings, the symbol and ISO code columns are marked as hidden" src="_images/setcurrencyhide.png" /></p>
<p>And hidden when you view the table.</p>
<p><img alt="The currencies administration table, the symbol and ISO code columns are hidden" src="_images/currencieshide.png" /></p>
<p>The ‘Cannot be toggled’ column is used to prevent individual users from showing
or hiding this column when viewing the table.</p>
<p>Individual users can toggle columns using the ‘Columns’ button at the
top of the table.</p>
<p><img alt="The button 'Columns' above the currencies administration table is clicked open and all the column names appear" src="_images/togglecolumns.png" /></p>
<p>For example, in the Currencies table, the ‘Currency’ and ‘Rate’ columns cannot
be toggled. When the user clicks on the ‘Columns’ button, they are not able to
choose whether these two columns are hidden or visible.</p>
<p>Note that using the ‘Columns’ button show or hide columns will only toggle them
for the current user and session. Once the user logs out, the columns will go
back to their default settings as set in the table settings administration
page. It will not affect any other user.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Module</p></th>
<th class="head"><p>Tables</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Acquisitions</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="acquisitions.html#create-a-basket-label"><span class="std std-ref">Basket summary</span></a> (orders)</p></li>
<li><p><a class="reference internal" href="acquisitions.html#searching-orders-label"><span class="std std-ref">Order search results</span></a> (histsearcht)</p></li>
<li><p><a class="reference internal" href="acquisitions.html#claims-and-late-orders-label"><span class="std std-ref">Late orders</span></a> (late_orders)</p></li>
<li><p><a class="reference internal" href="acquisitions.html#managing-purchase-suggestions-label"><span class="std std-ref">Suggestions</span></a> (suggestions)</p></li>
<li><p><a class="reference internal" href="acquisitions.html#acquisitions-label"><span class="std std-ref">Funds table on the main acquisition page</span></a> (accounts)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>管理</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="#patron-categories-label"><span class="std std-ref">Patron categories</span></a> (patron_categories)</p></li>
<li><p><a class="reference internal" href="#currencies-and-exchange-rates-label"><span class="std std-ref">Currencies</span></a> (currency)</p></li>
<li><p><a class="reference internal" href="#item-types-label"><span class="std std-ref">Item types</span></a> (table_item_type)</p></li>
<li><p><a class="reference internal" href="#libraries-label"><span class="std std-ref">Libraries</span></a> (librairies)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Authorities</p></td>
<td><p>There aren’t any tables that can be configured from the
Authorities module.</p></td>
</tr>
<tr class="row-odd"><td><p>Catalog</p></td>
<td><ul class="simple">
<li><p>Acquisition details (acquisitiondetails-table)</p></li>
<li><p>Checkout history (checkoutshistory-table)</p></li>
<li><p>Holdings/items (holdings_table)</p></li>
<li><p>Holdings/items from other libraries (otherholdings_table)
(when <a class="reference internal" href="catalogingpreferences.html#separateholdings-and-separateholdingsbranch-label"><span class="std std-ref">SeparateHoldings</span></a> is enabled)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Cataloging</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="cataloging.html#adding-items-label"><span class="std std-ref">Item table above edit item form</span></a> (Items Editor)</p></li>
<li><p><a class="reference internal" href="cataloging.html#adding-records-label"><span class="std std-ref">Z39.50 search results</span></a> (resultst)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Circulation</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="circulation.html#checking-items-out-label"><span class="std std-ref">Checkouts</span></a> (issues-table)</p></li>
<li><p><a class="reference internal" href="circulation.html#check-out-issuing-label"><span class="std std-ref">Patron search results</span></a> (table_borrowers)</p></li>
<li><p><a class="reference internal" href="circulation.html#holds-to-pull-label"><span class="std std-ref">Holds to pull</span></a> (holds-to-pull)</p></li>
<li><p><a class="reference internal" href="circulation.html#holds-awaiting-pickup-label"><span class="std std-ref">Holds awaiting pickup (holds waiting over X days)</span></a> (holdso)</p></li>
<li><p><a class="reference internal" href="circulation.html#holds-awaiting-pickup-label"><span class="std std-ref">Holds awaiting pickup (holds waiting)</span></a> (holdst)</p></li>
<li><p><a class="reference internal" href="circulation.html#hold-ratios-label"><span class="std std-ref">Hold ratios</span></a> (holds-ratios)</p></li>
<li><p><a class="reference internal" href="circulation.html#overdues-report-label"><span class="std std-ref">Overdues report</span></a> (circ-overdues)</p></li>
<li><p><a class="reference internal" href="circulation.html#checking-items-in-label"><span class="std std-ref">Checkins</span></a> (checkedintable)</p></li>
<li><p><a class="reference internal" href="circulation.html#holds-queue-label"><span class="std std-ref">Holds queue</span></a> (holds-table)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Course reserves</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="course_reserves.html#adding-courses-label"><span class="std std-ref">Courses</span></a> (courses page, course_reserves_table)</p></li>
<li><p><a class="reference internal" href="course_reserves.html#adding-reserve-materials-label"><span class="std std-ref">Reserves</span></a> (reserves page, course_reserves_table)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Interlibrary loans</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="ILL_requests.html#viewing-ill-requests-label"><span class="std std-ref">Requests</span></a> (ill-requests)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Patrons</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="patrons.html#circulation-history-label"><span class="std std-ref">Patron checkout history</span></a> (checkouthistory-table)</p></li>
<li><p><a class="reference internal" href="patrons.html#fines-label"><span class="std std-ref">Accounting &gt; Transactions</span></a> (account-fines)</p></li>
<li><p><a class="reference internal" href="patrons.html#holds-history-label"><span class="std std-ref">Holds history</span></a> (holdshistory-table)</p></li>
<li><p><a class="reference internal" href="patrons.html#patron-search-label"><span class="std std-ref">Patron search results</span></a> (memberresultst)</p></li>
<li><p><a class="reference internal" href="patrons.html#circulation-summary-label"><span class="std std-ref">Details &gt; Checkouts</span></a> (issues-table)</p></li>
<li><p><a class="reference internal" href="tools.html#patron-lists-label"><span class="std std-ref">Patron lists</span></a> (patron-list-table)</p></li>
<li><p><a class="reference internal" href="patrons.html#pay-and-writeoff-fines-label"><span class="std std-ref">Accounting &gt; Make a payment</span></a> (pay-fines-table)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Point of sale</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="cash_management.html#making-a-sale-label"><span class="std std-ref">Point of sale</span></a> (invoices)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Tools</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="tools.html#log-viewer-label"><span class="std std-ref">Log viewer</span></a> (logst)</p></li>
<li><p><a class="reference internal" href="tools.html#notices-and-slips-label"><span class="std std-ref">Notices and slips</span></a> (lettert)</p></li>
<li><p><a class="reference internal" href="tools.html#stock-rotation-label"><span class="std std-ref">Stock rotation rotas</span></a> (stock_rotation)</p></li>
<li><p><a class="reference internal" href="tools.html#stock-rotation-label"><span class="std std-ref">Stock rotation items</span></a> (stock_rotation_manage_items)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>OPAC</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="course_reserves.html#course-reserves-in-the-opac-label"><span class="std std-ref">Course reserves</span></a> (course-items-table)</p></li>
<li><p><a class="reference internal" href="course_reserves.html#course-reserves-in-the-opac-label"><span class="std std-ref">Courses</span></a> (course_reserves_table)</p></li>
<li><p><a class="reference internal" href="opac.html#bibliographic-record-label"><span class="std std-ref">Holdings/Items</span></a> (holdingst)</p></li>
<li><p><a class="reference internal" href="opac.html#bibliographic-record-label"><span class="std std-ref">Serials issues on subscription tab</span></a> (subscriptionst)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>Reports</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="reports.html#lost-items-label"><span class="std std-ref">Items lost</span></a> (lostitems-table)</p></li>
<li><p><a class="reference internal" href="reports.html#orders-by-fund-label"><span class="std std-ref">Orders by fund</span></a> (funds-table)</p></li>
<li><p><a class="reference internal" href="reports.html#edit-custom-reports-label"><span class="std std-ref">Saved SQL reports</span></a> (table_reports)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Serials</p></td>
<td><ul class="simple">
<li><p><a class="reference internal" href="serials.html#subscriptions-in-staff-client-label"><span class="std std-ref">Acquisition details</span></a> (orders)</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Patrons in the OPAC can’t toggle column visibility. For OPAC tables
this feature only allows to control the visibility of columns.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Any tables with columns listed here also have the option to export to Excel, export to CSV,
copy, or print within the table header.</p>
</div>
</section>
<section id="audio-alerts">
<span id="audio-alerts-label"></span><h3>Audio alerts<a class="headerlink" href="#audio-alerts" title="永久链接至标题"></a></h3>
<p>If you have your <a class="reference internal" href="staffclientpreferences.html#audioalerts"><span class="std std-ref">AudioAlerts</span></a> preference set to
‘Enable’ you will be able to control the various alert sounds that Koha
uses from this area.</p>
<ul class="simple">
<li><p><em>Get there:</em> More &gt; Administration &gt; Additional parameters &gt; Audio
alerts</p></li>
</ul>
<p>Each dialog box in Koha has a CSS class assigned to it that can be used
as a selector for a sound.</p>
<blockquote>
<div><p><img alt="image1213" src="_images/alerts.png" /></p>
</div></blockquote>
<p>You can edit the defaults by clicking the ‘Edit’ button to the right of
each alert.</p>
<blockquote>
<div><p><img alt="image1214" src="_images/editalert.png" /></p>
</div></blockquote>
<p>You can assign alerts to other CSS classes in Koha by entering that
information in the selector box. For example if you enter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">body</span><span class="p">:</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Check in message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then when you visit the check-in page you will hear an alert.</p>
<p>Every page in Koha has a unique ID in the body tag which can be used to
limit a sound to a specific page</p>
<p>Any ID selector (where HTML contains id=”name_of_id” ) and can also be
a trigger as: #name_of_selector</p>
</section>
<section id="sms-cellular-providers">
<span id="sms-cellular-providers-label"></span><h3>SMS cellular providers<a class="headerlink" href="#sms-cellular-providers" title="永久链接至标题"></a></h3>
<blockquote>
<div><p><strong>重要</strong></p>
<p>This option will only appear if the
<a class="reference internal" href="patronspreferences.html#smssenddriver-label"><span class="std std-ref">SMSSendDriver</span></a> preference is set to ‘Email’</p>
</div></blockquote>
<p>From here you can enter as many cellular providers as you need to send
SMS notices to your patrons using the email protocol.</p>
<blockquote>
<div><p><img alt="image1215" src="_images/smsproviders.png" /></p>
</div></blockquote>
<p>Some examples in the US are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mobile Carrier</p></th>
<th class="head"><p>SMS Gateway Domain</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Alltel</p></td>
<td><p>sms.alltelwireless.com</p></td>
</tr>
<tr class="row-odd"><td><p>AT&amp;T</p></td>
<td><p>txt.att.net</p></td>
</tr>
<tr class="row-even"><td><p>Boost Mobile</p></td>
<td><p>sms.myboostmobile.com</p></td>
</tr>
<tr class="row-odd"><td><p>Project Fi</p></td>
<td><p>msg.fi.google.com</p></td>
</tr>
<tr class="row-even"><td><p>Republic Wireless</p></td>
<td><p>text.republicwireless.com</p></td>
</tr>
<tr class="row-odd"><td><p>Sprint</p></td>
<td><p>messaging.sprintpcs.com</p></td>
</tr>
<tr class="row-even"><td><p>T-Mobile</p></td>
<td><p>tmomail.net</p></td>
</tr>
<tr class="row-odd"><td><p>U.S. Cellular</p></td>
<td><p>email.uscc.net</p></td>
</tr>
<tr class="row-even"><td><p>Verizon Wireless</p></td>
<td><p>vtext.com</p></td>
</tr>
<tr class="row-odd"><td><p>Virgin Mobile</p></td>
<td><p>vmobl.com</p></td>
</tr>
</tbody>
</table>
<p>Table: SMS provider examples</p>
<p>To add new providers enter the details in the form and click ‘Add new’
to save.</p>
<blockquote>
<div><p><img alt="image1216" src="_images/smsadd.png" /></p>
</div></blockquote>
<p>These options will appear in the OPAC for patrons to choose from on the
<a class="reference internal" href="opac.html#your-messaging-label"><span class="std std-ref">messaging tab</span></a> if you have
<a class="reference internal" href="patronspreferences.html#enhancedmessagingpreferences"><span class="std std-ref">EnhancedMessagingPreferences</span></a>
enabled.</p>
<blockquote>
<div><p><img alt="image1217" src="_images/smsopacoptions.png" /></p>
</div></blockquote>
</section>
<section id="share-your-usage-statistics">
<span id="share-your-usage-statistics-label"></span><h3>Share your usage statistics<a class="headerlink" href="#share-your-usage-statistics" title="永久链接至标题"></a></h3>
<p>You can share your Koha usage statistics with the Hea community. Sharing your
usage statistics helps with the development of Koha as the community regularly
checks these statistics to make decisions.</p>
<p>Note that statistics are anonymized and no patron information is shared.</p>
<p>Worldwide statistics can be viewed at <a class="reference external" href="https://hea.koha-community.org/">https://hea.koha-community.org/</a></p>
<p><img alt="image1479" src="_images/usagestatistics.png" /></p>
<ul class="simple">
<li><p>Share my Koha usage statistics:</p>
<ul>
<li><p>The default choice is ‘Undecided’, this make the message appear on the
administration main page.</p></li>
<li><p>Choose ‘yes’ if you want to share your usage statistics</p></li>
<li><p>Choose ‘no’ if you don’t want to share your statistics and you don’t want
to see the message on the administration page</p></li>
</ul>
</li>
<li><p>Your country: choose the country where your library is located</p></li>
<li><p>Library name: enter your library’s name</p></li>
<li><p>Library type: choose your library’s type</p></li>
<li><p>Library URL: enter your library’s Web site URL</p></li>
<li><p>Last update: here your will see the last date when your data was uploaded
to the Hea website</p></li>
<li><p>Geolocation: use the map on the right to put the marker where your main
library is situated. The coordinates will appear in the Geolocation field.</p></li>
<li><p>Libraries information: if you have more than one branch, you can choose ‘yes’
here to put all your branches on the map</p></li>
<li><p>See your public page: this is the URL to your information on the Hea website.</p></li>
</ul>
<p>Click ‘Update your statistics usage’ to save the information.</p>
</section>
<section id="share-content-with-mana-kb">
<span id="share-with-mana-kb-label"></span><h3>Share content with Mana KB<a class="headerlink" href="#share-content-with-mana-kb" title="永久链接至标题"></a></h3>
<p>Mana KB is a worldwide knowledge base used to share content specific to libraries.
Koha is currently connected to Mana Kb in order to share serial subscription
models and reports. This section is used to configure your connexion
with Mana KB.</p>
<p><em>Get there:</em> More &gt; Administration &gt; Additional parameters &gt; Share
content with Mana KB</p>
<p><img alt="image1426" src="_images/manaconfiguration.png" /></p>
<p>In the form, choose whether you want to use Mana KB to share content or not.
The default is “No, let me think about it”. If you do want to use Mana KB,
change the option to “Yes”. If you do not want to share with Mana KB, choose
“No”, this will remove the blue rectangle from the Administration home
page.</p>
<p>The rest of this section assumes you chose “Yes”.</p>
<p>Choose whether you want to share your subscription models automatically.
This means that every time you create a subscription in the serials
module, it will be automatically shared with Mana KB and other libraries
will be able to copy it.</p>
<p>In order to configure Mana KB, you must get a Mana KB token to authenticate
your Koha installation on the Mana KB server.</p>
<p>Enter your name or your organization’s name in the “Your name” field.</p>
<p>Enter your email in the “Email” field. Make sure you have access to this
email inbox since you will receive further information by email.</p>
<p>Once you send your information to Mana KB, you will get a Mana KB token.</p>
<p><img alt="image1427" src="_images/manatoken.png" /></p>
<p>In the email your receive, click on the confirmation link and confirm you
are not a robot to finish the Mana KB setup.</p>
</section>
<section id="additional-fields">
<span id="additional-fields-label"></span><h3>Additional fields<a class="headerlink" href="#additional-fields" title="永久链接至标题"></a></h3>
<p>This section is used to add custom fields to serial subscriptions or
order baskets.</p>
<p>To add a new field, first choose which table you want to add it to.</p>
<ul>
<li><p>Order baskets (aqbasket): a field added to aqbasket will appear upon
the <a class="reference internal" href="acquisitions.html#create-a-basket-label"><span class="std std-ref">creation of a new order basket</span></a>
or the modification of an existing order basket in the
<a class="reference internal" href="acquisitions.html#acquisitions-label"><span class="std std-ref">acquisitions module</span></a>.</p>
<p><img alt="addfieldsorderbasket" src="_images/addfieldsorderbasket.png" /></p>
</li>
<li><p>Subscriptions (subscription): a field added to subscription will appear
when <a class="reference internal" href="serials.html#add-a-subscription-label"><span class="std std-ref">creating a new subscription</span></a> or
when <a class="reference internal" href="serials.html#edit-subscription-label"><span class="std std-ref">editing an existing subscription</span></a> in the
serials module.</p>
<p><img alt="Add a new subscription form (2 of 2)" src="_images/addsub2.png" /></p>
</li>
</ul>
<p>Click on “Create field”</p>
<p>Fill out the form</p>
<p><img alt="Add field form" src="_images/addfield.png" /></p>
<ul class="simple">
<li><p>Name: this is the name of the field as you want it to appear.</p></li>
<li><p>Authorized value category: if you want to add a drop-down menu to the field
choose an <a class="reference internal" href="#existing-values-label"><span class="std std-ref">authorized value category</span></a> here (you
can also <a class="reference internal" href="#add-new-authorized-value-category-label"><span class="std std-ref">create a new authorized value category</span></a>
if you need to).</p></li>
<li><p>MARC field: for additional subscription fields, it is possible to link
the field to a MARC field. The additional field will be automatically
populated with the corresponding record’s value for this MARC field.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>You can only choose one of the two options (authorized value OR MARC field)</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>If you choose the MARC field, make sure you enter it in this
format: field$subfield</p>
<p>For example: 590$a</p>
</div>
<ul class="simple">
<li><p>Searchable: check this box if you want to be able to search baskets or
subscriptions based on this field</p>
<ul>
<li><p>Order basket searchable additional fields will be available in the
<a class="reference internal" href="acquisitions.html#searching-orders-label"><span class="std std-ref">orders advanced search</span></a> form</p></li>
<li><p>Subscription searchable additional fields will be available in the
<a class="reference internal" href="serials.html#searching-serials-label"><span class="std std-ref">subscription advanced search</span></a> form</p></li>
</ul>
</li>
</ul>
<section id="examples-of-additional-fields">
<span id="additional-fields-examples-label"></span><h4>Examples of additional fields<a class="headerlink" href="#examples-of-additional-fields" title="永久链接至标题"></a></h4>
<p><strong>Example 1:</strong> Additional subscription field using
<a class="reference internal" href="#authorized-values-label"><span class="std std-ref">authorized values</span></a></p>
<p>You might want to track which department you’re ordering this serial for</p>
<ul class="simple">
<li><p>In the ‘Name’ field, enter ‘Department’</p></li>
<li><p>In the ‘Authorized value category’ field, choose DEPARTMENT</p></li>
<li><p>Check the ‘Searchable’ box</p></li>
</ul>
<p><img alt="Add field form, filled with Department as the Name, DEPARTMENT as the authorized value category and Searchable is checked" src="_images/adddept.png" /></p>
<p>When you are <a class="reference internal" href="serials.html#add-a-subscription-label"><span class="std std-ref">adding a subscription</span></a>,
the field will be in the ‘Additional fields’ section with its
authorized values drop-down menu.</p>
<p><img alt="Add a new subscription form (2 of 2)" src="_images/addsub2.png" /></p>
<p>When you view the subscription, the field will appear under ‘Additional
fields’.</p>
<p><img alt="Subscription details page, Information tab" src="_images/subscriptiondetailsinfo.png" /></p>
<p>Because we made the field searchable, it will also be in the serials
subscription search.</p>
<p><img alt="Serials advanced search form" src="_images/advancedserialsearch.png" /></p>
<p><strong>Example 2:</strong> Additional field using MARC field</p>
<p>This is particularly useful if you want to view bibliographic
information in the subscription detail page. In this example, we will
add the 521$a field, which is, in MARC21, the target audience note.</p>
<ul class="simple">
<li><p>In the ‘Name’ field, enter ‘Target audience’</p></li>
<li><p>In the ‘MARC field’ field, enter ‘521$a’</p></li>
</ul>
<p><img alt="Add field form, filled with Target audience as the Name, and 521$a as the MARC field" src="_images/addmarcfield.png" /></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>You will not be able to edit this field from the subscription
form. If you need to add or change the value in this field,
you must go through the <a class="reference internal" href="cataloging.html#cataloging-label"><span class="std std-ref">cataloging module</span></a>.</p>
</div>
<p>When you view the subscription, the field and the information from the
bibliographic record will appear under ‘Additional fields’.</p>
<p><img alt="Subscription details page, Information tab" src="_images/subscriptiondetailsinfo.png" /></p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="webservicespreferences.html" class="btn btn-neutral float-left" title="Web services" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="tools.html" class="btn btn-neutral float-right" title="Tools" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021-22, Koha 社区.
      <span class="lastupdated">最后更新于 2022-10-10 09:23:10.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>